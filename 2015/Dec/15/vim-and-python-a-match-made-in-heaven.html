<!DOCTYPE html><title>Vim and Python - a match made in heaven - manhhomienbienthuy's space</title> <meta charset=utf-8> <meta name=viewport content="width=device-width, initial-scale=1"> <link rel=apple-touch-icon href=/theme/images/icon-touch.png> <link rel=icon sizes=192x192 href=/theme/images/icon-touch.png> <link rel="shortcut icon" href=/theme/images/favicon.ico> <link rel=author href=/humans.txt> <meta name=msapplication-TileImage content=/theme/images/icon-tile.png> <meta name=twitter:dnt content=on> <meta name=Author content=manhhomienbienthuy> <meta name=rating content=general> <meta name=twitter:card content=product> <meta name=twitter:site content=@_naa_4f> <meta name=twitter:creator content=@_naa_4f> <link href=/feeds/all.atom.xml type=application/atom+xml rel=alternate title="manhhomienbienthuy's space Full Atom Feed"> <meta name=description content="Vài ngày trước, tôi đã viết bài hướng dẫn cấu hình Emacs, trong bài viết này tôi sẽ giới thiệu một môi trường phát triển phát triển Python nữa. Đó chính là Vim. Vim rất phổ biến, nhanh, nhẹ và không bao giờ bị crash. Và nó có thể làm …"> <meta name=keywords content="Vim, Python, editor, blog, naa, manhhomienbienthuy, pelican, static site generator"> <meta name=twitter:title content="Vim and Python - a match made in heaven - manhhomienbienthuy's space"> <meta name=twitter:description content="Vài ngày trước, tôi đã viết bài hướng dẫn cấu hình Emacs, trong bài viết này tôi sẽ giới thiệu một môi trường phát triển phát triển Python nữa. Đó chính là Vim. Vim rất phổ biến, nhanh, nhẹ và không bao giờ bị crash. Và nó có thể làm …"> <meta name=twitter:image content=/https://i.imgur.com/mBn1ah8.png> <link rel=stylesheet href=//cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css> <link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.0.0/css/font-awesome.min.css> <link rel=stylesheet href=/theme/css/vpyeu.min.css?5d2c7d5e> <header> <div class=navbar> <div class=wrapper> <div class=nav-menu> <div class=menu-toggle> <i class="fa fa-reorder"></i> </div> <ul class=menus> <li><a href=/ >Home</a> <li><a href=/category/general.html class=current> General <li><a href=/category/life.html> Life <li><a href=/category/programming.html> Programming <li><a href=/category/travel.html> Travel </ul> </div><div class="right links"> <ul> <li> <a href=https://twitter.com/_naa_4f target=_blank> <i class="fa fa-twitter"></i> </a> <li> <a href=https://instagram.com/manhhomienbienthuy/ target=_blank> <i class="fa fa-instagram"></i> </a> <li> <a href=https://www.facebook.com/manhhomienbienthuy target=_blank> <i class="fa fa-facebook"></i> </a> <li> <a href=https://github.com/manhhomienbienthuy target=_blank> <i class="fa fa-github"></i> </a> <li> <a href=/feeds/all.atom.xml target=_blank> <i class="fa fa-rss"></i> </a> </ul> </div> </div> </div><noscript> <div class="warning head-warn"> <div class=wrapper> <p><strong>Notice:</strong> While JavaScript is not essential for this website, your interaction with the content will be limited. Please turn JavaScript on for the full experience. </div> </div> </noscript><div class=banner> <div class=wrapper> <a href=/ > <img alt="manhhomienbienthuy's space" src=/theme/images/logo.png> </a> </div> </div></header> <main> <div class=wrapper> <div class=main-wrapper> <div class=entry> <div class=entry-detail> <div class=post> <h1 class=title> Vim and Python - a match made in heaven </h1> <div class=meta> Posted in <a href=/category/general.html>General</a> on December 15, 2015 by <a href=/pages/about-me.html>manhhomienbienthuy</a> <span class=right> <i class="fa fa-comments"></i> <a href=#disqus_thread data-disqus-identifier=/2015/Dec/15/vim-and-python-a-match-made-in-heaven.html> Comments </a> </span> </div> <div class=post-body> <img src=https://i.imgur.com/mBn1ah8.png alt="Vim and Python - a match made in heaven"> <p>Vài ngày trước, tôi đã viết bài <a href=../../../2015/Dec/08/emacs-can-be-the-best-editor-for-python.html>hướng dẫn cấu hình Emacs</a>, trong bài viết này tôi sẽ giới thiệu một môi trường phát triển phát triển Python nữa. Đó chính là <a href=http://www.vim.org/ >Vim</a>. Vim rất phổ biến, nhanh, nhẹ và không bao giờ bị crash. Và nó có thể làm được mọi thứ.</p> <p>Có thể việc cấu hình Vim với người bắt đầu khá khó khăn, tuy nhiên, bạn đừng lo. Trong bài viết này, tôi sẽ chỉ cho bạn cách cấu hình Vim để biến nó trở thành một môi trường đầy sức mạnh cho việc phát triển Python.</p> <p><img alt="vim ide" src=https://i.imgur.com/wDdzD1r.png></p> <blockquote> <p>Trong bài viết này, tôi mặc định bạn đã biết cách sử dụng Vim về cơ bản. Nếu chưa, bạn thể tham khảo những hướng dẫn <a href=http://vim-adventures.com/ >ở đây</a> hay <a href=http://www.openvim.com/ >ở đây</a>. Hãy tìm hiểu một chút về cách sử dụng Vim và một số lệnh của nó trước khi chúng ta bắt đầu.</p> </blockquote> <h1 id=cai-at>Cài đặt<a class=headerlink href=#cai-at title="Permanent link">&para;</a></h1> <p>Bởi vì Vim được cài sẵn ở rất nhiều hệ điều hành <a href=https://en.wikipedia.org/wiki/Unix-like>*nix</a>, nên trước hết, hãy kiểm tra xem nó đã được cài đặt chưa.</p> <div class=codehilite><pre><span></span><span class=gp>$</span> vim --version
</pre></div> <p>Nếu Vim đã được cài rồi thì lệnh trên sẽ cho kết quả như dưới đây.</p> <div class=codehilite><pre><span></span><span class=go>VIM - Vi IMproved 7.4 (2013 Aug 10, compiled Jan  2 2014 19:39:47)</span>
<span class=go>Included patches: 1-52</span>
<span class=go>Modified by pkg-vim-maintainers@lists.alioth.debian.org</span>
<span class=go>Compiled by buildd@</span>
<span class=go>Huge version with GTK2-GNOME GUI.  Features included (+) or not (-):</span>
<span class=go>+acl             +farsi           +mouse_netterm   +syntax</span>
<span class=go>+arabic          +file_in_path    +mouse_sgr       +tag_binary</span>
<span class=go>+autocmd         +find_in_path    -mouse_sysmouse  +tag_old_static</span>
<span class=go>+balloon_eval    +float           +mouse_urxvt     -tag_any_white</span>
<span class=go>+browse          +folding         +mouse_xterm     +tcl</span>
<span class=go>++builtin_terms  -footer          +multi_byte      +terminfo</span>
<span class=go>+byte_offset     +fork()          +multi_lang      +termresponse</span>
<span class=go>+cindent         +gettext         -mzscheme        +textobjects</span>
<span class=go>+clientserver    -hangul_input    +netbeans_intg   +title</span>
<span class=go>+clipboard       +iconv           +path_extra      +toolbar</span>
<span class=go>+cmdline_compl   +insert_expand   +perl            +user_commands</span>
<span class=go>+cmdline_hist    +jumplist        +persistent_undo +vertsplit</span>
<span class=go>+cmdline_info    +keymap          +postscript      +virtualedit</span>
<span class=go>+comments        +langmap         +printer         +visual</span>
<span class=go>+conceal         +libcall         +profile         +visualextra</span>
<span class=go>+cryptv          +linebreak       +python          +viminfo</span>
<span class=go>+cscope          +lispindent      -python3         +vreplace</span>
<span class=go>+cursorbind      +listcmds        +quickfix        +wildignore</span>
<span class=go>+cursorshape     +localmap        +reltime         +wildmenu</span>
<span class=go>+dialog_con_gui  +lua             +rightleft       +windows</span>
<span class=go>+diff            +menu            +ruby            +writebackup</span>
<span class=go>+digraphs        +mksession       +scrollbind      +X11</span>
<span class=go>+dnd             +modify_fname    +signs           -xfontset</span>
<span class=go>-ebcdic          +mouse           +smartindent     +xim</span>
<span class=go>+emacs_tags      +mouseshape      -sniff           +xsmp_interact</span>
<span class=go>+eval            +mouse_dec       +startuptime     +xterm_clipboard</span>
<span class=go>+ex_extra        +mouse_gpm       +statusline      -xterm_save</span>
<span class=go>+extra_search    -mouse_jsbterm   -sun_workshop    +xpm</span>
<span class=go>   system vimrc file: &quot;$VIM/vimrc&quot;</span>
<span class=go>     user vimrc file: &quot;$HOME/.vimrc&quot;</span>
<span class=go> 2nd user vimrc file: &quot;~/.vim/vimrc&quot;</span>
<span class=go>      user exrc file: &quot;$HOME/.exrc&quot;</span>
<span class=go>  system gvimrc file: &quot;$VIM/gvimrc&quot;</span>
<span class=go>    user gvimrc file: &quot;$HOME/.gvimrc&quot;</span>
<span class=go>2nd user gvimrc file: &quot;~/.vim/gvimrc&quot;</span>
<span class=go>    system menu file: &quot;$VIMRUNTIME/menu.vim&quot;</span>
<span class=go>  fall-back for $VIM: &quot;/usr/share/vim&quot;</span>
<span class=go>Compilation: gcc -c -I. -Iproto -DHAVE_CONFIG_H -DFEAT_GUI_GTK  -pthread -I/usr/include/gtk-2.0 -I/usr/lib/x86_64-linux-gnu/gtk-2.0/include -I/usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/gdk-pixbuf-2.0 -I/usr/include/pango-1.0 -I/usr/include/gio-unix-2.0/ -I/usr/include/freetype2 -I/usr/include/glib-2.0 -I/usr/lib/x86_64-linux-gnu/glib-2.0/include -I/usr/include/pixman-1 -I/usr/include/libpng12 -I/usr/include/harfbuzz   -pthread -DORBIT2=1 -D_REENTRANT -I/usr/include/libgnomeui-2.0 -I/usr/include/libart-2.0 -I/usr/include/gconf/2 -I/usr/include/gnome-keyring-1 -I/usr/include/libgnome-2.0 -I/usr/include/libbonoboui-2.0 -I/usr/include/libgnomecanvas-2.0 -I/usr/include/gtk-2.0 -I/usr/include/gdk-pixbuf-2.0 -I/usr/include/gnome-vfs-2.0 -I/usr/lib/x86_64-linux-gnu/gnome-vfs-2.0/include -I/usr/include/dbus-1.0 -I/usr/lib/x86_64-linux-gnu/dbus-1.0/include -I/usr/include/glib-2.0 -I/usr/lib/x86_64-linux-gnu/glib-2.0/include -I/usr/include/orbit-2.0 -I/usr/include/libbonobo-2.0 -I/usr/include/bonobo-activation-2.0 -I/usr/include/libxml2 -I/usr/include/pango-1.0 -I/usr/include/gail-1.0 -I/usr/include/harfbuzz -I/usr/include/freetype2 -I/usr/include/atk-1.0 -I/usr/lib/x86_64-linux-gnu/gtk-2.0/include -I/usr/include/cairo -I/usr/include/gio-unix-2.0/ -I/usr/include/pixman-1 -I/usr/include/libpng12     -g -O2 -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=1     -I/usr/include/tcl8.6  -D_REENTRANT=1  -D_THREAD_SAFE=1  -D_LARGEFILE64_SOURCE=1</span>
<span class=go>Linking: gcc   -L. -Wl,-Bsymbolic-functions -Wl,-z,relro -rdynamic -Wl,-export-dynamic -Wl,-E  -Wl,-Bsymbolic-functions -Wl,-z,relro -Wl,--as-needed -o vim   -lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgio-2.0 -lpangoft2-1.0 -lpangocairo-1.0 -lgdk_pixbuf-2.0 -lcairo -lpango-1.0 -lfontconfig -lgobject-2.0 -lglib-2.0 -lfreetype     -lgnomeui-2 -lSM -lICE -lbonoboui-2 -lgnomevfs-2 -lgnomecanvas-2 -lgnome-2 -lpopt -lbonobo-2 -lbonobo-activation -lORBit-2 -lart_lgpl_2 -lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgio-2.0 -lpangoft2-1.0 -lpangocairo-1.0 -lgdk_pixbuf-2.0 -lcairo -lpango-1.0 -lfontconfig -lfreetype -lgconf-2 -lgthread-2.0 -lgmodule-2.0 -lgobject-2.0 -lglib-2.0   -lSM -lICE -lXpm -lXt -lX11 -lXdmcp -lSM -lICE  -lm -ltinfo -lnsl  -lselinux  -lacl -lattr -lgpm -ldl  -L/usr/lib -llua5.2 -Wl,-E  -fstack-protector -L/usr/local/lib  -L/usr/lib/perl/5.18/CORE -lperl -ldl -lm -lpthread -lcrypt -L/usr/lib/python2.7/config-x86_64-linux-gnu -lpython2.7 -lpthread -ldl -lutil -lm -Xlinker -export-dynamic -Wl,-O1 -Wl,-Bsymbolic-functions  -L/usr/lib/x86_64-linux-gnu -ltcl8.6 -ldl -lz -lpthread -lieee -lm -lruby-1.9.1 -lpthread -lrt -ldl -lcrypt -lm  -L/usr/lib</span>
</pre></div> <p>Bạn cần kiểm tra 2 điểm:</p> <ol> <li>Phiên bản Vim, nó nên là bản 7.3 trở nên.</li> <li>Vim có hỗ trợ Python. Trong danh sách được đưa ra, hãy kiểm tra nếu có dòng <code>+python</code> là Vim đã hỗ trợ Python rồi.</li> </ol> <p>Nếu hệ thống của bạn thỏa mãn cả 2 điểm trên, thì bạn đã sẵn sàng để cấu hình Vim. Bạn có thể bỏ qua phần <a href=http://www.vim.org/download.php>install/upgrade</a> này.</p> <h2 id=os-x>OS X<a class=headerlink href=#os-x title="Permanent link">&para;</a></h2> <p>Một cách cài khá đơn giản trên OS X là sử dụng <a href=http://brew.sh/ >Homebrew</a>.</p> <div class=codehilite><pre><span></span><span class=gp>$</span> brew update
<span class=gp>$</span> brew install vim
</pre></div> <h2 id=42nix>*NIX<a class=headerlink href=#42nix title="Permanent link">&para;</a></h2> <p>Với hệ điều hành Debian hay Ubuntu, bạn có thể cài đặt Vim bằng lệnh:</p> <div class=codehilite><pre><span></span><span class=gp>$</span> sudo apt-get remove vim-tiny
<span class=gp>$</span> apt-get update
<span class=gp>$</span> apt-get install vim
</pre></div> <p>Với những bản phân phối khác của Linux, bạn có thể tham khảo <a href=http://oss.sgi.com/LDP/HOWTO/Vim-HOWTO/introduction.html>tài liệu này</a> để biết cách cài đặt Vim trên hệ thống của mình.</p> <h2 id=windows>Windows<a class=headerlink href=#windows title="Permanent link">&para;</a></h2> <p>Có rất nhiều cách để cài Vim trên Windows, cách dễ dàng nhất là bạn hãy đọc và làm theo <a href=http://www.vim.org/download.php#pc>tài liệu của Vim</a>.</p> <h1 id=kiem-tra-viec-cai-at>Kiểm tra việc cài đặt<a class=headerlink href=#kiem-tra-viec-cai-at title="Permanent link">&para;</a></h1> <p>Bạn hãy chắc chắn rằng mình đã cài đặt Vim từ phiên bản 7.3 trở nên, và nó có hỗ trợ Python. Bạn có thể chạy lệnh <code>vim --version</code> để kiểm tra thêm lần nữa. Nếu bạn muốn kiểm tra phiên bản Python được Vim sử dụng, bạn có thể chạy lệnh <code>:python import sys; print(sys.version)</code> trong Vim.</p> <div class=codehilite><pre><span></span>2.7.6 (default, Jun 22 2015, 18:01:27)
[GCC 4.8.2]
</pre></div> <p>Lệnh trên sẽ đưa ra phiên bản hiện tại của Python trên hệ thống của bạn. Nếu có lỗi xảy ra, nghĩa là Vim của bạn chưa hỗ trợ Python, bạn sẽ cần cài đặt lại nó.</p> <p>Với Vim đã được cài đặt xong, phần tiếp theo, tôi sẽ trình bày cách tùy biến Vim để biến nó thành môi trường phát triển Python.</p> <p><strong>Update</strong></p> <p>Nếu bạn muốn phát triển bằng Python 3 thì Vim của bạn nên hỗ trợ Python 3 (<code>+python3</code>). Những cách cài đặt ở trên sẽ cài đặt phiên bản Vim hỗ trợ Python 2 (<code>+python</code>) mà không hỗ trợ Python 3 (<code>-python3</code>). Vì vậy, bạn sẽ cần cài đặt Vim từ mã nguồn của nó để có thể làm việc với Python 3 một cách tốt nhất.</p> <p>Cách cài đặt của tôi như sau (Với hệ điều hành Ubuntu):</p> <ul> <li>Cài đặt các gói cần thiết để build Vim từ mã nguồn.</li> </ul> <div class=codehilite><pre><span></span><span class=gp>$</span> sudo apt-get build-dep vim
</pre></div> <ul> <li>Lấy mã nguồn Vim từ Github:</li> </ul> <div class=codehilite><pre><span></span><span class=gp>$</span> git clone https://github.com/vim/vim.git <span class=o>&amp;&amp;</span> <span class=nb>cd</span> vim
</pre></div> <ul> <li>Config để Vim hỗ trợ Python 3</li> </ul> <div class=codehilite><pre><span></span><span class=gp>$</span> ./configure --with-features<span class=o>=</span>huge --enable-multibyte <span class=se>\</span>
  --enable-python3interp --enable-gui<span class=o>=</span>gtk-2
</pre></div> <ul> <li>Make và cài đặt</li> </ul> <div class=codehilite><pre><span></span><span class=gp>$</span> make <span class=o>&amp;&amp;</span> make install
</pre></div> <p>Config trên sẽ giúp bạn cài đặt một phiên bản Vim khá đầy đủ tính năng, hỗ trợ Python 3, clipboard và một phiên bản Vim đồ họa (<code>gvim</code>). Phiên bản Vim này sẽ được cài vào thư mục <code>/usr/local/</code> nên bạn hoàn toàn có thể dùng nó song song với các phiên bản Vim khác được cài đặt thông qua các trình quản lý package. Bạn có thể alias như sau để sử dụng 2 phiên bản Vim một cách nhanh chóng:</p> <div class=codehilite><pre><span></span><span class=nb>alias</span> <span class=nv>vimm</span><span class=o>=</span><span class=s1>&#39;/usr/bin/vim&#39;</span>
</pre></div> <p>Với alias trên, hệ thống của bạn sẽ có lệnh <code>vim</code> để làm việc với Python 3 và <code>vimm</code> để làm việc với Python 2.</p> <h1 id=vim-extension>Vim Extension<a class=headerlink href=#vim-extension title="Permanent link">&para;</a></h1> <p>Vim có thể làm rất nhiều việc mà một developer cần. Tuy nhiên, Vim cũng có khả năng mở rộng rất linh hoạt, và cũng nó nhiều extension cho Vim để biến nó trở thành một IDE hiện đại. Nhưng trước tiên, bạn cần một trình quản lý extension tốt.</p> <blockquote> <p>Extension của Vim thường được gọi là bundle hoặc <a href=http://vimdoc.sourceforge.net/htmldoc/usr_05.html#plugin>plugin</a>.</p> </blockquote> <h2 id=vundle>Vundle<a class=headerlink href=#vundle title="Permanent link">&para;</a></h2> <p>Vim có rất nhiều trình quản lý extension khác nhau, nhưng tôi recommend bạn nên sử dụng <a href=https://github.com/gmarik/Vundle.vim>Vundle</a>. Vundle của Vim cũng giống như là pip của Python. Nó khiến việc cài đặt và cập nhật các extension trở nên rất đơn giản.</p> <p>Để cài đặt Vundle, bạn dùng lệnh sau:</p> <div class=codehilite><pre><span></span><span class=gp>$</span> git clone https://github.com/gmarik/Vundle.vim.git ~/.vim/bundle/Vundle.vim
</pre></div> <p>Lệnh trên sẽ download Vundle và lưu nó vào thư mục chứa plugin của Vim. Sau khi cài đặt Vundle, bạn có thể quản lý các extension từ trong <a href=https://github.com/amix/vimrc>file config</a> là <code>.vimrc</code></p> <p>Thêm file <code>.vimrc</code> vào thư mục HOME của bạn.</p> <div class=codehilite><pre><span></span><span class=gp>$</span> touch ~/.vimrc
</pre></div> <p>Bây giờ, bạn cần cấu hình Vundle trong file <code>.vimrc</code> bằng cách thêm vào đó các nội dung sau.</p> <div class=codehilite><pre><span></span><span class=k>set</span> <span class=nb>nocompatible</span>              <span class=c>&quot; required</span>
<span class=k>filetype</span> off                  <span class=c>&quot; required</span>

<span class=c>&quot; set the runtime path to include Vundle and initialize</span>
<span class=k>set</span> <span class=nb>rtp</span><span class=p>+=~</span><span class=sr>/.vim/</span>bundle/Vundle.<span class=k>vim</span>
<span class=k>call</span> vundle#begin<span class=p>()</span>

<span class=c>&quot; alternatively, pass a path where Vundle should install plugins</span>
<span class=c>&quot;call vundle#begin(&#39;~/some/path/here&#39;)</span>

<span class=c>&quot; let Vundle manage Vundle, required</span>
Plugin <span class=s1>&#39;gmarik/Vundle.vim&#39;</span>

<span class=c>&quot; Add all your plugins here (note older versions of Vundle used Bundle instead of Plugin)</span>


<span class=c>&quot; All of your Plugins must be added before the following line</span>
<span class=k>call</span> vundle#<span class=k>end</span><span class=p>()</span>            <span class=c>&quot; required</span>
<span class=k>filetype</span> plugin indent <span class=k>on</span>    <span class=c>&quot; required</span>
</pre></div> <p>Trên đây, bạn đã cấu hình để Vim sử dụng Vundle. Từ bây giờ, mỗi lần thêm plugin, nếu bạn muốn cài đặt, bạn chỉ cần mở Vim và chạy lệnh:</p> <div class=codehilite><pre><span></span>:PluginInstall
</pre></div> <p>Lệnh trên sẽ chỉ dẫn Vundle làm công việc của một trình quản lý extension - download các plugin và cài đặt/update chúng cho bạn.</p> <p><img alt="vim plugin install" src=https://i.imgur.com/pFzRbbP.png></p> <blockquote> <p>Với người dùng Windows, bạn có thể tham khảo <a href=https://github.com/gmarik/Vundle.vim/wiki/Vundle-for-Windows>Windows Installation Instructions</a>.</p> </blockquote> <h1 id=bien-vim-thanh-mot-ide>Biến Vim thành một IDE<a class=headerlink href=#bien-vim-thanh-mot-ide title="Permanent link">&para;</a></h1> <p>Chúng ta khó có thể liệt kê tất cả các tính năng của Vim. Ở trong nội dung bài viết này, chúng ta sẽ kể ra một số tính năng quan trọng với những người phát triển Python.</p> <h2 id=khong-su-dung-chuot>Không sử dụng chuột<a class=headerlink href=#khong-su-dung-chuot title="Permanent link">&para;</a></h2> <p>Một tính năng quan trọng nhất của Vim là nó không cần đến chuột (trừ một vài biến thể có giao diện đồ họa như gvim hay macvim). Khi mới bắt đầu, việc này có vẻ khó chịu, nhưng sau khi làm quen rồi bạn sẽ thấy hữu ích. Không sử dụng chuột khiến bạn không bị nhảy nhầm con trỏ ra vị trí khác nếu vô tình bạn chạm tay vào touch pad. Hãy nghiên cứu một số <a href=http://stackoverflow.com/a/5400978/1799408>tổ hợp phím</a> bạn sẽ thấy dùng Vim cũng rất thú vị.</p> <h2 id=phan-chia-man-hinh>Phân chia màn hình<a class=headerlink href=#phan-chia-man-hinh title="Permanent link">&para;</a></h2> <p>Mở một file với lệnh <code>:sv &lt;filename&gt;</code> bạn sẽ chia màn hình Vim theo chiều thẳng đứng (nghĩa là file mới sẽ được mở bên trên file cũ). Hoặc dùng lệnh ngược lại <code>:vs &lt;filename&gt;</code> bạn sẽ chia màn hình theo chiều ngang (nghĩa là file mới được mở bên trái file cũ).</p> <p><img alt="vim split layouts" src=https://i.imgur.com/O5Xskla.png></p> <p>Bạn có thể chia các màn hình lồng nhau, chia màn hình ngang bên trong màn hình đã được chia dọc, tùy theo bạn muốn. Bởi vì thường các developer vẫn cần đọc nhiều file một lúc, nên tính năng thực sự rất hữu ích.</p> <p><strong>Pro Tip</strong>: Bạn có thể dùng phím <code>Tab</code> để Vim đưa ra các gợi ý cho file sau khi gõ lệnh <code>:sv</code>.</p> <p><strong>Pro Tip</strong>: Bạn cũng có thể chỉ định các vùng màn hình khác nhau để chia bằng cách thêm các cấu hình sau vào file <code>.vimrc</code>:</p> <div class=codehilite><pre><span></span><span class=k>set</span> <span class=nb>splitbelow</span>
<span class=k>set</span> <span class=nb>splitright</span>
</pre></div> <p><strong>Pro Tip</strong>: Nếu bạn muốn di chuyển giữa các màn hình đã được chia mà không có chuột. Rất đơn giản, bạn có thể thêm các cấu hình sau vào file <code>.vimrc</code> và bạn có thể di chuyển qua lại các cửa sổ chỉ bằng 1 tổ hợp phím.</p> <div class=codehilite><pre><span></span><span class=c>&quot;split navigations</span>
<span class=nb>nnoremap</span> <span class=p>&lt;</span>C<span class=p>-</span>J<span class=p>&gt;</span> <span class=p>&lt;</span>C<span class=p>-</span>W<span class=p>&gt;</span><span class=k>j</span>
<span class=nb>nnoremap</span> <span class=p>&lt;</span>C<span class=p>-</span>K<span class=p>&gt;</span> <span class=p>&lt;</span>C<span class=p>-</span>W<span class=p>&gt;</span><span class=k>k</span>
<span class=nb>nnoremap</span> <span class=p>&lt;</span>C<span class=p>-</span>L<span class=p>&gt;</span> <span class=p>&lt;</span>C<span class=p>-</span>W<span class=p>&gt;</span><span class=k>l</span>
<span class=nb>nnoremap</span> <span class=p>&lt;</span>C<span class=p>-</span>H<span class=p>&gt;</span> <span class=p>&lt;</span>C<span class=p>-</span>W<span class=p>&gt;</span><span class=k>h</span>
</pre></div> <p>Cấu hình trên cho bạn các tổ hợp phím sau:</p> <ul> <li><code>Ctrl-j</code> chuyển đến cửa sổ bên dưới</li> <li><code>Ctrl-k</code> chuyển lên cửa sổ bên trên</li> <li><code>Ctrl-l</code> chuyển sang cửa sổ bên phải</li> <li><code>Ctrl-h</code> chuyển sang cửa sổ bên trái</li> </ul> <p>Nói ngắn gọn lại, bạn có thể sử dụng phím <code>Ctrl</code> và các phím di chuyển của Vim để di chuyển qua lại các cửa sổ.</p> <blockquote> <p><code>nnoremap</code> là gì? Có thể hiểu đơn giản rằng, <code>nnoremap</code> làm nhiệm vụ gán các tổ hợp phím thành các tổ hợp phím mới (remap). <code>noremap</code> có nghĩa là bạn remap các phím trong "normal mode" của Vim chứ không phải trong "visual mode". Ở config trên, <code>nnoremap &lt;C-J&gt; &lt;C-W&gt;j</code> nghĩa là ở "normal mode", khi tôi ấn <code>&lt;C-J&gt;</code> thì lệnh tương ứng với <code>&lt;C-W&gt;j</code> sẽ được thực hiện. Thông tin chi tiết, bạn có thể tham khảo <a href=http://stackoverflow.com/questions/3776117/what-is-the-difference-between-the-remap-noremap-nnoremap-and-vnoremap-mapping>ở đây</a>.</p> </blockquote> <h2 id=buffer>Buffer<a class=headerlink href=#buffer title="Permanent link">&para;</a></h2> <p>Vim có thể mở nhiều tab để mở các file khác nhau. Nhưng thông thường, người ta thường dùng <a href=http://vim.wikia.com/wiki/Vim_buffer_FAQ>buffer</a> và phân chia màn hình. Bạn có thể hiểu <a href=http://stackoverflow.com/questions/26708822/why-do-vim-experts-prefer-buffers-over-tabs>buffer</a> là các file đang được mở bởi Vim. Vim cho phép chúng ta dễ dàng truy cập các buffer, bằng lệnh <code>:b &lt;buffer name or number&gt;</code> để chuyển đổi giữa các buffer (tính năng autocomplete cũng hoạt động ở đây). Bạn cũng có thể sử dụng lệnh <code>:ls</code> để đưa ra danh sách tất cả các buffer.</p> <p><strong>Pro Tip</strong>: Kết thúc lệnh <code>:ls</code>, Vim thông báo rằng <code>Hit enter to continue</code>. Thay vì ấn ENTER để kết thúc, bạn có thể gõ lệnh <code>:b &lt;buffer number&gt;</code> và chọn một buffer ngay khi danh sách vẫn đang được hiển thị. Điều này giúp bạn bớt đi một thao tác và cũng giúp bạn không cần phải nhớ hết số hiệu của các buffer.</p> <h2 id=thu-gon-code>Thu gọn code<a class=headerlink href=#thu-gon-code title="Permanent link">&para;</a></h2> <p>Phần lớn các IDE hiện đại đều cung cấp tính năng thu gọn code (có thể gọi là collapse hoặc <a href=http://vim.wikia.com/wiki/Folding>fold</a>). Sau khi thu gọn, các class và phương thức chỉ được hiển thị dòng đầu tiên thay vì hiển thị tất cả code. Bạn có thể mở riêng 1 phương thức để đọc cho dễ nhìn thay vì tất cả các phương thức đều được show hết ra.</p> <p>Bạn cũng có thể dùng chức năng này ở Vim với cấu hình sau:</p> <div class=codehilite><pre><span></span><span class=c>&quot; Enable folding</span>
<span class=k>set</span> <span class=nb>foldmethod</span><span class=p>=</span>indent
<span class=k>set</span> <span class=nb>foldlevel</span><span class=p>=</span><span class=m>99</span>
</pre></div> <p>Cấu hình trên hoạt động tốt, tuy nhiên bạn phải gõ <code>za</code> để thu gọn (hoặc để mở ra). Bạn có thể dùng phím cách để làm việc này, bằng cách cấu hình nó trong file <code>.vimrc</code>:</p> <div class=codehilite><pre><span></span><span class=c>&quot; Enable folding with the spacebar</span>
<span class=nb>nnoremap</span> <span class=p>&lt;</span>space<span class=p>&gt;</span> za
</pre></div> <p>Bây giờ, bạn có thể dễ dàng thu gọn, mở ra đoạn code bạn muốn.</p> <p>Lệnh đầu tiên ở config trên, <code>set foldmethod=indent</code> sẽ thu gọn code của bạn dựa vào indent. Thông thường, config này sẽ thu gọn code hơi quá mức cần thiết một chút. Nhưng không sao, có một số extension có thể cải thiện điều đó. Trong các extension đó, tôi recommend bạn sử dụng <a href=https://github.com/tmhedberg/SimpylFold>SimpylFold</a>. Cài đặt nó rất đơn giản với Vundle bằng cách thêm vào file <code>.vimrc</code></p> <div class=codehilite><pre><span></span>Plugin <span class=s1>&#39;tmhedberg/SimpylFold&#39;</span>
</pre></div> <blockquote> <p>Đừng quên lệnh <code>:PluginInstall</code> để cài đặt/update các extension</p> </blockquote> <p><strong>Pro Tip</strong>: Nếu bạn muốn nhìn docstrings của code đã thu gọn?</p> <div class=codehilite><pre><span></span>let g:SimpylFold_docstring_preview=1
</pre></div> <h2 id=indent-cho-python>Indent cho Python<a class=headerlink href=#indent-cho-python title="Permanent link">&para;</a></h2> <p>Một điều hiển nhiên là việc indent chính xác là rất quan trọng với những ngôn ngữ như Python. Ngoài ra, việc thu gọn code cũng dựa trên indent nên bạn muốn indent của mình thật chính xác. Về việc này, Vim có vẻ hơi thiếu sót một chút vì không hỗ trợ việc indent tự động sau những khai báo hàm, ... Có 2 việc nên làm có liên quan tới việc indent này là:</p> <ol> <li>Indent tuân theo tiêu chuẩn của PEP8.</li> <li>Hỗ trợ việc indent tự động.</li> </ol> <h3 id=pep8>PEP8<a class=headerlink href=#pep8 title="Permanent link">&para;</a></h3> <p>Để hộ trợ việc indent đúng theo PEP8, bạn thêm những config sau vào file <code>.vimrc</code>:</p> <div class=codehilite><pre><span></span><span class=k>au</span> <span class=nb>BufNewFile</span><span class=p>,</span><span class=nb>BufRead</span> *.<span class=k>py</span> <span class=k>set</span>
    \ <span class=nb>tabstop</span><span class=p>=</span><span class=m>4</span>
    \ <span class=nb>softtabstop</span><span class=p>=</span><span class=m>4</span>
    \ <span class=nb>shiftwidth</span><span class=p>=</span><span class=m>4</span>
    \ <span class=nb>textwidth</span><span class=p>=</span><span class=m>79</span>
    \ <span class=nb>expandtab</span>
    \ <span class=nb>autoindent</span>
    \ <span class=nb>fileformat</span><span class=p>=</span>unix
</pre></div> <p>Với config trên, nó hỗ trợ bạn một số công việc như: sử dụng 4 dấu cách mỗi khi bạn gõ Tab, đảm bảo độ dài mỗi dòng dưới 80 ký tự, lưu file với định dạng unix (dùng <code>CR</code> làm dấu xuống dòng) nên bạn sẽ không gặp những vấn đề về hiển thị khi sử dụng Github hay chia sẻ file với người khác.</p> <p>Và nếu bạn muốn phát triển cả những ngôn ngữ khác nữa, bạn có thể sử dụng thêm lệnh <code>au</code> cho các loại file khác nhau:</p> <div class=codehilite><pre><span></span><span class=k>au</span> <span class=nb>BufNewFile</span><span class=p>,</span><span class=nb>BufRead</span> *.<span class=nb>js</span><span class=p>,</span> *.html<span class=p>,</span> *.css <span class=k>set</span>
    \ <span class=nb>tabstop</span><span class=p>=</span><span class=m>2</span>
    \ <span class=nb>softtabstop</span><span class=p>=</span><span class=m>2</span>
    \ <span class=nb>shiftwidth</span><span class=p>=</span><span class=m>2</span>
</pre></div> <p>Bằng cách tương tự, bạn có thể cấu hình khác nhau cho các ngôn ngữ lập trình khác nhau. Vim cũng có một plugin tên là <a href=http://vim.wikia.com/wiki/Keep_your_vimrc_file_clean>ftypes</a> cho phép bạn lưu cấu hình cho các ngôn ngữ khác nhau ở các file riêng biệt. Bạn có thể sử dụng nó nếu thích.</p> <h3 id=indent-tu-ong>Indent tự động<a class=headerlink href=#indent-tu-ong title="Permanent link">&para;</a></h3> <p>Indent tự động có thể sẽ giúp ích bạn trong rất nhiều trường hợp, ví dụ như trường hợp khai báo hàm quá dài và phải xuống dòng. Tuy nhiên, không phải lúc nào nó cũng indent đúng như bạn muốn, nhất là khi chúng ta phải tuân theo tiêu chuẩn PEP8. Để hỗ trợ việc này, chúng ta sẽ sử dụng plugin <a href=https://github.com/vim-scripts/indentpython.vim>indentpython.vim</a></p> <div class=codehilite><pre><span></span>Plugin <span class=s1>&#39;vim-scripts/indentpython.vim&#39;</span>
</pre></div> <h2 id=anh-dau-cac-dau-cach-thua>Đánh dấu các dấu cách thừa<a class=headerlink href=#anh-dau-cac-dau-cach-thua title="Permanent link">&para;</a></h2> <p>Chúng ta cũng cần tránh các dấu cách không cần thiết (nhất là những dấu cuối dòng). Chúng ta có thể cấu hình Vim để nó đánh dấu những dấu cách không cần thiết cho chúng ta để chúng ta có thể dễ dàng nhận ra và xóa chúng đi:</p> <div class=codehilite><pre><span></span><span class=k>au</span> <span class=nb>BufRead</span><span class=p>,</span><span class=nb>BufNewFile</span> *.<span class=k>py</span><span class=p>,</span>*.pyw<span class=p>,</span>*.<span class=k>c</span><span class=p>,</span>*.<span class=k>h</span> <span class=k>match</span> BadWhitespace <span class=sr>/\s\+$/</span>
</pre></div> <p>Với config trên, những dấu cách thừa sẽ được đánh dấu là "bad" và thường được hiển thị màu đỏ.</p> <h2 id=ho-tro-utf8>Hỗ trợ UTF8<a class=headerlink href=#ho-tro-utf8 title="Permanent link">&para;</a></h2> <p>Trong phần lớn các trường hợp, bạn sẽ phải sử dụng UTF8 khi làm việc với Python, nhất là khi bạn làm việc với Python 3. Bạn có thể cấu hình để Vim biết và hỗ trợ bạn bằng dòng sau:</p> <div class=codehilite><pre><span></span><span class=k>set</span> <span class=nb>encoding</span><span class=p>=</span>utf<span class=m>-8</span>
</pre></div> <h2 id=auto-complete>Auto-complete<a class=headerlink href=#auto-complete title="Permanent link">&para;</a></h2> <p>Theo tôi, plugin tốt nhất để hỗ trợ auto-complete cho Python là <a href=https://github.com/Valloric/YouCompleteMe>YouCompleteMe</a>. Bạn có thể cài đặt nó thông qua Vundle:</p> <div class=codehilite><pre><span></span>Bundle <span class=s1>&#39;Valloric/YouCompleteMe&#39;</span>
</pre></div> <p>Về bản chất, YouCompleteMe sử dụng nhiều công cụ khác nhau (bao gồm cả <a href=https://github.com/davidhalter/jedi>Jedi</a> cho Python), và nó cũng cần một số thư việc C được cài đặt sẵn trên máy của bạn để hoạt động. Nó có một <a href=https://github.com/Valloric/YouCompleteMe#mac-os-x-super-quick-installation>hướng dẫn cài đặt</a> rất đầy đủ và chi tiết. Bạn hãy tham khảo và làm theo hướng dẫn.</p> <p>Nó hoạt động rất tốt, tuy nhiên bạn nên thêm những config sau để tùy biến nó:</p> <div class=codehilite><pre><span></span><span class=k>let</span> <span class=k>g</span>:ycm_autoclose_preview_window_after_completion<span class=p>=</span><span class=m>1</span>
map <span class=p>&lt;</span>leader<span class=p>&gt;</span><span class=k>g</span> :YcmCompleter GoToDefinitionElseDeclaration<span class=p>&lt;</span>CR<span class=p>&gt;</span>
</pre></div> <p>Trong 2 dòng trên, dòng thứ nhất để đảm bảo cửa sổ của auto-complete biến mất sau khi bạn đã hoàn thành, và dòng thứ hai định nghĩa một phím tắt để bạn đọc các hướng dẫn.</p> <blockquote> <p>Phím <code>&lt;leader&gt;</code> của tôi là phím cách, nên <code>&lt;lead&gt;g</code> nghĩa là tôi gõ <code>space-g</code> để xem hướng dẫn của những gì được gợi ý. Đây là một công cụ rất hữu ích nếu bạn bắt đầu làm quen với những code mới, thư viện mới.</p> </blockquote> <p><strong>Update</strong></p> <p>YouCompleteMe hiện nay chưa hỗ trợ Python 3 nên nếu muốn tính năng autocomplete với Python 3, <a href=https://github.com/davidhalter/jedi-vim>jedi-vim</a> là một plugin khá tốt. Cài đặt jedi-vim với config sau:</p> <div class=codehilite><pre><span></span>Plugin <span class=s1>&#39;davidhalter/jedi-vim&#39;</span>
</pre></div> <p>Có thể bạn vẫn cần YouCompleteMe với các ngôn ngữ khác. Bạn có thể map các key để có thể bật, tắt YouCompleteMe một cách nhanh chóng với config sau:</p> <div class=codehilite><pre><span></span>map <span class=p>&lt;</span>leader<span class=p>&gt;</span><span class=k>y</span> :<span class=k>let</span> <span class=k>g</span>:ycm_auto_trigger<span class=p>=</span><span class=m>0</span><span class=p>&lt;</span>CR<span class=p>&gt;</span>
map <span class=p>&lt;</span>leader<span class=p>&gt;</span><span class=k>y</span> :<span class=k>let</span> <span class=k>g</span>:ycm_auto_trigger<span class=p>=</span><span class=m>1</span><span class=p>&lt;</span>CR<span class=p>&gt;</span>
</pre></div> <h2 id=ho-tro-moi-truong-ao-virtualenv>Hỗ trợ môi trường ảo (virtualenv)<a class=headerlink href=#ho-tro-moi-truong-ao-virtualenv title="Permanent link">&para;</a></h2> <p>Là một người phát triển Python, chắc chắn bạn sẽ thường xuyên làm việc với virtualenv. Tuy nhiên, có một vấn đề với Vim là nó mặc định không biết gì về virtualenv, do đó bạn cần cấu hình để Vim biết và YouCompleteMe sử dụng virtualenv bằng cách thêm những config sau vào file <code>.vimrc</code>:</p> <div class=codehilite><pre><span></span><span class=c>&quot;python with virtualenv support</span>
<span class=k>py</span> <span class=o>&lt;&lt;</span> EOF
<span class=kn>import</span> <span class=nn>os</span>
<span class=kn>import</span> <span class=nn>sys</span>
<span class=k>if</span> <span class=s1>&#39;VIRTUAL_ENV&#39;</span> <span class=ow>in</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>:</span>
    <span class=n>project_base_dir</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s1>&#39;VIRTUAL_ENV&#39;</span><span class=p>]</span>
    <span class=n>activate_this</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>project_base_dir</span><span class=p>,</span> <span class=s1>&#39;bin/activate_this.py&#39;</span><span class=p>)</span>
    <span class=nb>execfile</span><span class=p>(</span><span class=n>activate_this</span><span class=p>,</span> <span class=nb>dict</span><span class=p>(</span><span class=vm>__file__</span><span class=o>=</span><span class=n>activate_this</span><span class=p>))</span>
EOF
</pre></div> <p>Config trên sẽ xác định bạn có đang sử dụng virtualenv hay không, sau đó nó sẽ cấu hình lại hệ thống của bạn sao cho YouCompleteMe có thể tìm thấy các package trên virtualenv này.</p> <h2 id=kiem-trahighlight-cu-phap>Kiểm tra/highlight cú pháp<a class=headerlink href=#kiem-trahighlight-cu-phap title="Permanent link">&para;</a></h2> <p>Bạn có thể cấu hình Vim kiểm tra cú pháp cho bạn mỗi khi lưu file với plugin <a href=https://github.com/scrooloose/syntastic>syntastic</a>:</p> <div class=codehilite><pre><span></span>Plugin <span class=s1>&#39;scrooloose/syntastic&#39;</span>
</pre></div> <p>Bạn cũng có thể thêm kiểm tra PEP8 có được tuân thủ hay không với plugin sau:</p> <div class=codehilite><pre><span></span>Plugin <span class=s1>&#39;nvie/vim-flake8&#39;</span>
</pre></div> <p>Cuối cùng, bạn highlight code để trông nó đẹp hơn:</p> <div class=codehilite><pre><span></span><span class=k>let</span> python_highlight_all<span class=p>=</span><span class=m>1</span>
<span class=nb>syntax</span> <span class=k>on</span>
</pre></div> <h2 id=color-scheme>Color Scheme<a class=headerlink href=#color-scheme title="Permanent link">&para;</a></h2> <p>Color scheme là tùy biến giao diện của Vim khiến nó trở nên lung linh hơn. Bạn có thể tham khảo 2 color scheme là <a href=https://github.com/altercation/vim-colors-solarized>solarized</a> cho Vim với GUI và <a href=https://github.com/jnurmine/Zenburn>Zenburn</a> cho Vim trên giao diện dòng lệnh:</p> <div class=codehilite><pre><span></span>Plugin <span class=s1>&#39;jnurmine/Zenburn&#39;</span>
Plugin <span class=s1>&#39;altercation/vim-colors-solarized&#39;</span>
</pre></div> <p>Bạn cần thêm một chút config ở đây để sử dụng color scheme cho Vim tùy vào môi trường mà nó đang chạy:</p> <div class=codehilite><pre><span></span><span class=k>if</span> has<span class=p>(</span><span class=s1>&#39;gui_running&#39;</span><span class=p>)</span>
    <span class=k>set</span> <span class=nb>background</span><span class=p>=</span><span class=nb>dark</span>
    <span class=k>colorscheme</span> solarized
<span class=k>else</span>
    <span class=k>colorscheme</span> zenburn
<span class=k>endif</span>
</pre></div> <p>Scheme solarized có 2 chế độ màu nền sáng và tối. Bạn có thể chuyển qua lại giữa 2 chế độ này rất đơn giản (bằng cách ấn phím <code>F5</code>) với config sau:</p> <div class=codehilite><pre><span></span><span class=k>call</span> togglebg#map<span class=p>(</span><span class=s2>&quot;&lt;F5&gt;&quot;</span><span class=p>)</span>
</pre></div> <h2 id=duyet-file-va-thu-muc>Duyệt file và thư mục<a class=headerlink href=#duyet-file-va-thu-muc title="Permanent link">&para;</a></h2> <p>Nếu bạn muốn xem cấu trúc các file và thư mục của project, plugin <a href=https://github.com/scrooloose/nerdtree>NERDTree</a> chính là thứ bạn cần.</p> <div class=codehilite><pre><span></span>Plugin <span class=s1>&#39;scrooloose/nerdtree&#39;</span>
</pre></div> <p>Nếu bạn sử dụng các tab, bạn có thể cần thêm <a href=https://github.com/jistr/vim-nerdtree-tabs>vim-nerdtree-tabs</a>:</p> <div class=codehilite><pre><span></span>Plugin <span class=s1>&#39;jistr/vim-nerdtree-tabs&#39;</span>
</pre></div> <p>Bạn có thể bỏ qua các file <code>.pyc</code> trong cửa sổ NERDTree bằng cấu hình sau:</p> <div class=codehilite><pre><span></span><span class=k>let</span> NERDTreeIgnore<span class=p>=</span>[<span class=s1>&#39;\.pyc$&#39;</span><span class=p>,</span> <span class=s1>&#39;\~$&#39;</span>] <span class=c>&quot;ignore files in NERDTree</span>
</pre></div> <h2 id=super-search>Super Search<a class=headerlink href=#super-search title="Permanent link">&para;</a></h2> <p>Nếu bạn muốn tìm kiếm mọi thứ trong Vim, bạn có thể sử dụng <a href=https://github.com/kien/ctrlp.vim>ctrlP</a>:</p> <div class=codehilite><pre><span></span>Plugin <span class=s1>&#39;kien/ctrlp.vim&#39;</span>
</pre></div> <p>Plugin cho phép Vim hoạt động như các editor hiện đại, chỉ cần ấn <code>Ctrl-P</code> là bạn có thể tìm kiếm tất cả mọi thứ. Không chỉ tìm kiếm file, nó có thể tìm kiếm tags, bạn có thể tham khảo qua <a href="http://www.youtube.com/watch?v=9XrHk3xjYsw">YouTube video</a>.</p> <h2 id=anh-so-dong>Đánh số dòng<a class=headerlink href=#anh-so-dong title="Permanent link">&para;</a></h2> <p>Bạn có thể bật chế độ đánh số dòng với config:</p> <div class=codehilite><pre><span></span><span class=k>set</span> <span class=k>nu</span>
</pre></div> <h2 id=tich-hop-git>Tích hợp git<a class=headerlink href=#tich-hop-git title="Permanent link">&para;</a></h2> <p>Nếu bạn muốn sử dụng một số lệnh git cơ bản mà không cần phải thoát ra ngoài Vim, bạn có thể sử dụng plugin <a href=https://github.com/tpope/vim-fugitive>vim-fugitive</a>:</p> <div class=codehilite><pre><span></span>Plugin <span class=s1>&#39;tpope/vim-fugitive&#39;</span>
</pre></div> <p><img alt="vim fugitive" src=https://i.imgur.com/rvwOadV.png></p> <p>Bạn có thể nhìn thấy ví dụ sử dụng thực tế của nó ở <a href=http://vimcasts.org/episodes/fugitive-vim---a-complement-to-command-line-git/ >Vimcasts</a>.</p> <h2 id=powerline>Powerline<a class=headerlink href=#powerline title="Permanent link">&para;</a></h2> <p><a href=https://github.com/powerline/powerline>Powerline</a> là thanh status hiển thị cho bạn một số thông tin như virtualenv hiện tại, git branch, file đang được thao tác, v.v...</p> <p><img alt="vim powerline" src=https://i.imgur.com/14qGZ9V.png></p> <p>Powerline được viết bằng Python, và nó hỗ trợ rất nhiều môi trường khác nhau như zsh, bash, tmux, IPython.</p> <div class=codehilite><pre><span></span>Plugin <span class=s1>&#39;Lokaltog/powerline&#39;</span><span class=p>,</span> {<span class=s1>&#39;rtp&#39;</span>: <span class=s1>&#39;powerline/bindings/vim/&#39;</span>}
</pre></div> <p>Bạn có thể tham khảo <a href=http://powerline.readthedocs.org/en/latest/ >tài liệu của nó</a> để biết các cấu hình và tùy chọn.</p> <p><strong>Update</strong></p> <p>Powerline sử dụng Python trong mã nguồn của nó để có thể hiển thị các thông tin. Tôi đã tìm được 1 plugin khác là <a href=https://github.com/vim-airline/vim-airline>vim-airline</a> cũng hiển thị các thông tin tương tự powerline nhưng nó hoàn toàn sử dụng vimscript.</p> <h2 id=clipboard>Clipboard<a class=headerlink href=#clipboard title="Permanent link">&para;</a></h2> <p>Vim thường sử dụng clipboard của chính nó và bỏ qua clipboard của hệ thống. Nhưng nhiều khi bạn muốn sử dụng những dữ liệu được cut, copy, và paste từ những ứng dụng khác không phải là Vim. Nếu Vim của bạn hỗ trợ clipboard (<code>+clipboard</code>) thì bạn có thể truy cập clipboard của hệ thống với config sau:</p> <div class=codehilite><pre><span></span><span class=k>set</span> <span class=nb>clipboard</span><span class=p>=</span>unnamed
</pre></div> <h2 id=update-kiem-tra-chinh-ta-tieng-viet-trong-vim>Update: Kiểm tra chính tả tiếng Việt trong Vim<a class=headerlink href=#update-kiem-tra-chinh-ta-tieng-viet-trong-vim title="Permanent link">&para;</a></h2> <p>Các phiên bản Vim gần đây đã hỗ trợ kiểm tra chính tả. Tuy nhiên, mặc định Vim chỉ có kiểm tra chính tả tiếng Anh. Nếu muốn kiểm tra chính tả với các ngôn ngữ, chúng ta phải có file mô tả (<code>.spl</code>) thì Vim mới có thể kiểm tra cho chúng ta.</p> <p>Mặc dù đã có thêm hỗ trợ cho <a href=http://vimdoc.sourceforge.net/htmldoc/spell.html>một số ngôn ngữ khác</a> tuy nhiên ngôn ngữ tiếng Việt vẫn chưa có trong danh sách trên. Thật may, Vim có công cụ cho phép chúng ta tự tạo file <code>.spl</code> từ các file từ điển (lệnh <code>mkspell</code>)</p> <p>File từ điển cũng không khó tìm kiếm, tôi sử dụng file từ điển từ dự án Chromium, đó là file <a href=https://src.chromium.org/chrome/trunk/deps/third_party/hunspell_dictionaries/vi_VN.aff>vi_VN.aff</a> và file <a href=https://src.chromium.org/chrome/trunk/deps/third_party/hunspell_dictionaries/vi_VN.dic>vi_VN.dic</a>.</p> <p>Với 2 file trên, chúng ta có thể tạo file <code>.spl</code> bằng cách mở Vim và thực hiện lệnh:</p> <div class=codehilite><pre><span></span><span class=p>:</span><span class=k>mkspell</span> <span class=k>vi</span> vi_VN
</pre></div> <p>Vim sẽ dựa vào nội dung 2 file <code>vi_VN.aff</code> và <code>vi_VN.dic</code> để tạo ra file <code>vi.utf-8.spl</code>. Công việc của bạn là copy file này vào thư mục <code>~/.vim/spell</code> để sử dụng sau này.</p> <p>Đã có file <code>.spl</code>, chúng ta chỉ cần config để vim kiểm tra chính tả cho chúng ta:</p> <div class=codehilite><pre><span></span><span class=k>set</span> <span class=k>spell</span>
<span class=k>set</span> <span class=nb>spelllang</span><span class=p>=</span><span class=k>en</span><span class=p>,</span><span class=k>vi</span>
</pre></div> <p>Một số lệnh thông dụng trong việc kiểm tra chính tả:</p> <ul> <li><code>]s</code> di chuyển đến từ sai kế tiếp</li> <li><code>[s</code> di chuyển đến từ sai trước</li> <li><code>zg</code> thêm từ vào từ điển</li> <li><code>zug</code> xóa từ vừa thêm khỏi từ điển</li> <li><code>z=</code> xem từ đề nghị cho từ sai</li> </ul> <h2 id=vim-trong-shell>Vim trong shell<a class=headerlink href=#vim-trong-shell title="Permanent link">&para;</a></h2> <p>Cuối cùng, khi bạn đã master Vim và các lệnh của nó rồi, thì bạn sẽ thấy mình muốn mình thao tác với mọi thứ giống như thao tác với Vim. Phần lớn các shell đều có VI mode, bạn có thể bật nó lên bằng cách thêm config sau vào file <code>~/.inputrc</code>:</p> <div class=codehilite><pre><span></span><span class=k>set</span> editing<span class=p>-</span><span class=k>mode</span> <span class=k>vi</span>
</pre></div> <p>Bây giờ, bạn không chỉ có thể sử dụng các tổ hợp phím của Vim trong shell mà bạn còn có thể sử dụng chúng ở trong trình thông dịch lệnh Python và các tool khác có sử dụng GNU Readline (phần lớn các shell của cơ sở dữ liệu). Bây giờ, bạn có Vim ở mọi nơi.</p> <h1 id=ket-luan>Kết luận<a class=headerlink href=#ket-luan title="Permanent link">&para;</a></h1> <p>Trên đây là những cấu hình để biến Vim thành một IDE (ít nhất là cho Python). Có hàng trăm hàng nghìn extension khác nhau dành cho Vim mà bạn có thể sử dụng, cũng như có rất nhiều lựa chọn khác nhau để thay thế những extension được giới thiệu trong bài viết này. Bạn có thể lựa chọn và cấu hình Vim theo ý của mình. Đây là cấu hình <a href=https://github.com/manhhomienbienthuy/dotfiles>Vim của tôi</a>, bạn có thể tham khảo nó.</p> </div> <div class=post-footer> <div class=tags> <i class="fa fa-tags"></i> <span>#Vim</span> <span>#Python</span> <span>#editor</span> </div> </div> </div><div class=blog-pager> <span class=newer-link> <a href=/2015/Dec/20/the-editor-war-the-oldest-rivalry-in-computing.html> Newer Post </a> </span> <span class=older-link> <a href=/2015/Dec/11/web-scraping-and-crawling-with-scrapy-and-sqlalchemy.html> Older Post </a> </span> </div><div class=comments> <div class=finally> <p><em>I apologise for any typos. If you notice a problem, please let me know.</em> <p>Thank you all for your attention. </div> <div id=disqus_thread></div> <script src=/theme/js/disqus.min.js?81e8a5f5></script> <noscript> Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript> comments powered by Disqus. </a> </noscript> </div></div> </div> </div> <div class=sidebar-wrapper> <div class=widget> <h2>Welcome</h2> <div> <img src=/theme/images/banner.gif alt=Welcome> </div> </div><div class="widget recent-posts"> <h2>Recent Posts</h2> <ul> <li> <a href=/2019/May/20/elasticsearch-data-organization.html> <img alt="Elasticsearch: Data organization" src=https://i.imgur.com/JT4y7Qf.jpg> </a> <a href=/2019/May/20/elasticsearch-data-organization.html>Elasticsearch: Data organization</a> <li> <a href=/2019/May/20/elasticsearch-intro.html> <img alt="Elasticsearch: Intro" src=https://i.imgur.com/JT4y7Qf.jpg> </a> <a href=/2019/May/20/elasticsearch-intro.html>Elasticsearch: Intro</a> <li> <a href=/2019/Apr/20/javascript-popups.html> <img alt="JavaScript: Popups" src=https://i.imgur.com/FxmcwPy.png> </a> <a href=/2019/Apr/20/javascript-popups.html>JavaScript: Popups</a> <li> <a href=/2019/Mar/20/javascript-iterator-and-generator.html> <img alt="JavaScript: Iterator and generator" src=https://i.imgur.com/lev8iT9.jpg> </a> <a href=/2019/Mar/20/javascript-iterator-and-generator.html>JavaScript: Iterator and generator</a> <li> <a href=/2019/Feb/20/javascript-decorator.html> <img alt="JavaScript decorator" src=https://i.imgur.com/Sh3yLI0.png> </a> <a href=/2019/Feb/20/javascript-decorator.html>JavaScript decorator</a> </ul> </div><div class="widget labels"> <h2>Blog Archive</h2> <ul> <li> <a href=/2019/ > 2019 </a> <li> <a href=/2018/ > 2018 </a> <li> <a href=/2017/ > 2017 </a> <li> <a href=/2016/ > 2016 </a> <li> <a href=/2015/ > 2015 </a> <li> <a href=/2014/ > 2014 </a> <li> <a href=/2013/ > 2013 </a> <li> <a href=/2012/ > 2012 </a> <li> <a href=/2011/ > 2011 </a> <li> <a href=/2010/ > 2010 </a> </ul> </div><div class=widget> <h2>Twitter timeline</h2> <a class=twitter-timeline data-height=500 data-dnt=true data-theme=light href=https://twitter.com/_naa_4f data-chrome="noheader nofooter transparent noborders"> Tweets by manhhomienbienthuy </a> </div> </div> </div> <a href=# class="smooth-scroll back-to-top"> <i class="fa fa-arrow-circle-up fa-3x"></i> </a> </main> <footer> <div class=infos> <div class=wrapper> <div class=widget> <a href=/ title="manhhomienbienthuy's space" class=logo> <img alt="manhhomienbienthuy's space" src=/theme/images/logo_white.png> </a> <span class=right>I'm a hacker, enter my world...</span> </div><div class=widget> <p> Created with all my ♥ and soul, dedicated to my love, yunachan <p> Powered by <a href=http://blog.getpelican.com/ target=_blank>Pelican</a>, which takes great advantage of <a href=https://www.python.org/ target=_blank>Python</a> <p> This site content is licensed under a <a href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank> CC BY-NC-ND 4.0 </a> License. <p> Updated at <a target=_blank href="http://www.timeanddate.com/worldclock/fixedtime.html?iso=2019-06-20T02:42:55"> 2019-06-20 02:42:55 </a> </div><div class=widget> <p> Hosting by <a href=https://manhhomienbienthuy.bitbucket.io/ >Bitbucket</a> and <a href=https://manhhomienbienthuy.github.io/ >Github</a>, image hosting by <a href=https://manhhomienbienthuy.imgur.com/ target=_blank>imgur</a>, <a href=https://instagram.com/manhhomienbienthuy/ target=_blank>Instagram</a> and <a href=https://photos.google.com/ target=_blank>Google Photo</a> <p> Theme based on <a href=https://vanice-veethemes.blogspot.com/ target=_blank>Vanice theme</a>, icons from <a href=https://fontawesome.com/ target=_blank>Font Awesome</a>, comments powered by <a href=https://disqus.com/home/forums/manhhomienbienthuy/ target=_blank>Disqus</a> </div> </div> </div> <div class=credits> <div class=wrapper> <div class=left> <!--
          Regarding copyright, in general, standalone pages (as
          opposed to files generated as part of manuals) on the GNU
          web server should be under CC BY-ND 4.0.  Please do NOT
          change or remove this without talking with the webmasters or
          licensing team first.  Please make sure the copyright date
          is consistent with the document.  For web pages, it is ok to
          list just the latest year the document was modified, or
          published.

          If you wish to list earlier years, that is ok too.  Either
          "2001, 2002, 2003" or "2001-2003" are ok for specifying
          years, as long as each year in the range is in fact a
          copyrightable year, i.e., a year in which the document was
          published (including being publicly visible on the web or in
          a revision control system).
        --> Copyright © 2010-2019 <a href=/pages/about-me.html><strong>manhhomienbienthuy</strong></a>. All rights reserved. </div> <div class=right> <ul> <li><a href=/ >Home</a> <li><a href=/pages/about-me.html>About</a> <li><a href=# class=smooth-scroll>Top ↑</a> </ul> </div> </div> </div></footer> <script src=https://code.jquery.com/jquery-3.2.1.js></script> <script src=//cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js></script> <script src=//cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.2/imagesloaded.pkgd.min.js></script> <script src=/theme/js/vpyeu.min.js?d72c87bd></script> <script id=dsq-count-scr src=https://manhhomienbienthuy.disqus.com/count.js async></script>