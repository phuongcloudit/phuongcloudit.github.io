<!DOCTYPE html><title>How to use Django admin and when should not use it - manhhomienbienthuy's space</title> <meta charset=utf-8> <meta name=viewport content="width=device-width, initial-scale=1"> <link rel=apple-touch-icon href=/theme/images/icon-touch.png> <link rel=icon sizes=192x192 href=/theme/images/icon-touch.png> <link rel="shortcut icon" href=/theme/images/favicon.ico> <link rel=author href=/humans.txt> <meta name=msapplication-TileImage content=/theme/images/icon-tile.png> <meta name=twitter:dnt content=on> <meta name=Author content=manhhomienbienthuy> <meta name=rating content=general> <meta name=twitter:card content=product> <meta name=twitter:site content=@_naa_4f> <meta name=twitter:creator content=@_naa_4f> <link href=/feeds/all.atom.xml type=application/atom+xml rel=alternate title="manhhomienbienthuy's space Full Atom Feed"> <meta name=description content="Django admin là một app rất hữu ích và đầy đủ tính năng, được tích hợp sẵn trong Django framework. Sử dụng Django admin sẽ giúp chúng ta phát triển một trang Web nhanh hơn. Trong bài viết này, tôi sẽ trình bày một số tip để làm việc với …"> <meta name=keywords content="Python, Django, admin, blog, naa, manhhomienbienthuy, pelican, static site generator"> <meta name=twitter:title content="How to use Django admin and when should not use it - manhhomienbienthuy's space"> <meta name=twitter:description content="Django admin là một app rất hữu ích và đầy đủ tính năng, được tích hợp sẵn trong Django framework. Sử dụng Django admin sẽ giúp chúng ta phát triển một trang Web nhanh hơn. Trong bài viết này, tôi sẽ trình bày một số tip để làm việc với …"> <meta name=twitter:image content=/https://i.imgur.com/pGKmM6e.png> <link rel=stylesheet href=//cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css> <link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.0.0/css/font-awesome.min.css> <link rel=stylesheet href=/theme/css/vpyeu.min.css?5d2c7d5e> <header> <div class=navbar> <div class=wrapper> <div class=nav-menu> <div class=menu-toggle> <i class="fa fa-reorder"></i> </div> <ul class=menus> <li><a href=/ >Home</a> <li><a href=/category/general.html> General <li><a href=/category/life.html> Life <li><a href=/category/programming.html class=current> Programming <li><a href=/category/travel.html> Travel </ul> </div><div class="right links"> <ul> <li> <a href=https://twitter.com/_naa_4f target=_blank> <i class="fa fa-twitter"></i> </a> <li> <a href=https://instagram.com/manhhomienbienthuy/ target=_blank> <i class="fa fa-instagram"></i> </a> <li> <a href=https://www.facebook.com/manhhomienbienthuy target=_blank> <i class="fa fa-facebook"></i> </a> <li> <a href=https://github.com/manhhomienbienthuy target=_blank> <i class="fa fa-github"></i> </a> <li> <a href=/feeds/all.atom.xml target=_blank> <i class="fa fa-rss"></i> </a> </ul> </div> </div> </div><noscript> <div class="warning head-warn"> <div class=wrapper> <p><strong>Notice:</strong> While JavaScript is not essential for this website, your interaction with the content will be limited. Please turn JavaScript on for the full experience. </div> </div> </noscript><div class=banner> <div class=wrapper> <a href=/ > <img alt="manhhomienbienthuy's space" src=/theme/images/logo.png> </a> </div> </div></header> <main> <div class=wrapper> <div class=main-wrapper> <div class=entry> <div class=entry-detail> <div class=post> <h1 class=title> How to use Django admin and when should not use it </h1> <div class=meta> Posted in <a href=/category/programming.html>Programming</a> on January 24, 2016 by <a href=/pages/about-me.html>manhhomienbienthuy</a> <span class=right> <i class="fa fa-comments"></i> <a href=#disqus_thread data-disqus-identifier=/2016/Jan/24/how-to-use-django-admin-and-when-should-not-use-it.html> Comments </a> </span> </div> <div class=post-body> <img src=https://i.imgur.com/pGKmM6e.png alt="How to use Django admin and when should not use it"> <p>Django admin là một app rất hữu ích và đầy đủ tính năng, được tích hợp sẵn trong Django framework. Sử dụng Django admin sẽ giúp chúng ta phát triển một trang Web nhanh hơn. Trong bài viết này, tôi sẽ trình bày một số tip để làm việc với Django admin.</p> <p>Các tip được trình bày dưới đây sẽ minh họa cho một số bài toán trong thực tế, để các tip được trình bày một cách trực quan nhất. Giả sử chúng ta có một trang Web đơn giản, nơi mà người dùng có thể post các bức ảnh pet mà họ yêu thích và người dùng có thể comment với các bức ảnh được up lên. Đây là một ví dụ khá đơn giản và có những tính năng phổ biến.</p> <h1 id=tip-1-django-admin-khong-phai-chi-danh-cho-trang-web-viet-bang-django>Tip 1: Django admin không phải chỉ dành cho trang Web viết bằng Django<a class=headerlink href=#tip-1-django-admin-khong-phai-chi-danh-cho-trang-web-viet-bang-django title="Permanent link">&para;</a></h1> <p>Trang admin của Django hoạt động rất tốt khi kết hợp với phần còn lại của framework, tuy nhiên nó cũng rất dễ dàng để hoạt động cùng với những cơ sở dữ liệu của trang khác, hoặc làm trang admin của chính trang đó nếu trang đó có giao diện admin không đẹp lắm. Và rất dễ dàng để kiểm tra xem liệu Django admin có phù hợp với nhu cầu của bạn hay không.</p> <p>Tất cả những gì bạn cần làm là:</p> <ol> <li>Tạo một app mới trong project của Django và cấu hình để nó kết nối đến đúng cơ sở dữ liệu.</li> <li>Tạo model cho Django theo cấu trúc của cơ sở dữ liệu. Một lệnh rất hữu ích trong trường hợp này là <code>manage.py inspectdb</code> sẽ giúp bạn, nó sẽ kiểm tra cơ sở dữ liệu đang có và tự động generate model.</li> <li>Tạo module <code>admin.py</code> và cấu hình những gì bạn muốn.</li> </ol> <p>Trở lại với ví dụ của chúng ta về trang up ảnh pet. Nó có thể được viết bằng bất cứ ngôn ngữ nào, giả sử trang admin của nó không được đẹp lắm. Để thay đổi điều này, chúng ta sẽ đưa cấu trúc cơ sở dữ liệu của nó vào model và sử dụng một cấu hình admin đơn giản của Django.</p> <div class=codehilite><pre><span></span><span class=c1># models.py</span>

<span class=k>class</span> <span class=nc>Picture</span><span class=p>(</span><span class=n>models</span><span class=o>.</span><span class=n>Model</span><span class=p>):</span>
    <span class=n>DOG</span> <span class=o>=</span> <span class=mi>1</span>
    <span class=n>CAT</span> <span class=o>=</span> <span class=mi>2</span>
    <span class=n>ANIMAL_KIND_CHOICES</span> <span class=o>=</span> <span class=p>(</span>
        <span class=p>(</span><span class=n>DOG</span><span class=p>,</span> <span class=s1>&#39;dog&#39;</span><span class=p>),</span>
        <span class=p>(</span><span class=n>CAT</span><span class=p>,</span> <span class=s1>&#39;cat&#39;</span><span class=p>),</span>
    <span class=p>)</span>

    <span class=n>title</span> <span class=o>=</span> <span class=n>models</span><span class=o>.</span><span class=n>CharField</span><span class=p>(</span><span class=n>max_length</span><span class=o>=</span><span class=mi>200</span><span class=p>)</span>
    <span class=n>author</span> <span class=o>=</span> <span class=n>models</span><span class=o>.</span><span class=n>ForeignKey</span><span class=p>(</span><span class=n>Author</span><span class=p>,</span> <span class=n>related_name</span><span class=o>=</span><span class=s1>&#39;pictures&#39;</span><span class=p>)</span>
    <span class=n>animal_kind</span> <span class=o>=</span> <span class=n>models</span><span class=o>.</span><span class=n>IntegerField</span><span class=p>(</span><span class=n>choices</span><span class=o>=</span><span class=n>ANIMAL_KIND_CHOICES</span><span class=p>)</span>
    <span class=n>photo</span> <span class=o>=</span> <span class=n>models</span><span class=o>.</span><span class=n>ImageField</span><span class=p>(</span><span class=n>upload_to</span><span class=o>=</span><span class=s1>&#39;animals&#39;</span><span class=p>)</span>
    <span class=n>is_promoted</span> <span class=o>=</span> <span class=n>models</span><span class=o>.</span><span class=n>BooleanField</span><span class=p>(</span><span class=n>default</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>


<span class=k>class</span> <span class=nc>Author</span><span class=p>(</span><span class=n>models</span><span class=o>.</span><span class=n>Model</span><span class=p>):</span>
    <span class=n>name</span> <span class=o>=</span> <span class=n>models</span><span class=o>.</span><span class=n>CharField</span><span class=p>(</span><span class=n>max_length</span><span class=o>=</span><span class=mi>100</span><span class=p>)</span>
    <span class=n>email</span> <span class=o>=</span> <span class=n>models</span><span class=o>.</span><span class=n>EmailField</span><span class=p>()</span>


<span class=k>class</span> <span class=nc>Comment</span><span class=p>(</span><span class=n>models</span><span class=o>.</span><span class=n>Model</span><span class=p>):</span>
    <span class=n>author</span> <span class=o>=</span> <span class=n>models</span><span class=o>.</span><span class=n>ForeignKey</span><span class=p>(</span><span class=n>Author</span><span class=p>,</span> <span class=n>related_name</span><span class=o>=</span><span class=s1>&#39;comments&#39;</span><span class=p>)</span>
    <span class=n>picture</span> <span class=o>=</span> <span class=n>models</span><span class=o>.</span><span class=n>ForeignKey</span><span class=p>(</span><span class=n>Picture</span><span class=p>,</span> <span class=n>related_name</span><span class=o>=</span><span class=s1>&#39;comments&#39;</span><span class=p>)</span>
    <span class=n>comment</span> <span class=o>=</span> <span class=n>models</span><span class=o>.</span><span class=n>TextField</span><span class=p>()</span>
    <span class=n>editors_note</span> <span class=o>=</span> <span class=n>models</span><span class=o>.</span><span class=n>TextField</span><span class=p>()</span>

<span class=c1># admin.py</span>

<span class=k>class</span> <span class=nc>PictureAdmin</span><span class=p>(</span><span class=n>admin</span><span class=o>.</span><span class=n>ModelAdmin</span><span class=p>):</span>
    <span class=n>list_display</span> <span class=o>=</span> <span class=p>(</span><span class=s1>&#39;photo&#39;</span><span class=p>,</span> <span class=s1>&#39;animal_kind&#39;</span><span class=p>,</span> <span class=s1>&#39;author&#39;</span><span class=p>,</span> <span class=s1>&#39;is_promoted&#39;</span><span class=p>,</span> <span class=p>)</span>


<span class=k>class</span> <span class=nc>AuthorAdmin</span><span class=p>(</span><span class=n>admin</span><span class=o>.</span><span class=n>ModelAdmin</span><span class=p>):</span>
    <span class=n>list_display</span> <span class=o>=</span> <span class=p>(</span><span class=s1>&#39;name&#39;</span><span class=p>,</span> <span class=s1>&#39;email&#39;</span><span class=p>,</span> <span class=p>)</span>


<span class=k>class</span> <span class=nc>CommentAdmin</span><span class=p>(</span><span class=n>admin</span><span class=o>.</span><span class=n>ModelAdmin</span><span class=p>):</span>
    <span class=n>list_display</span> <span class=o>=</span> <span class=p>(</span><span class=s1>&#39;picture&#39;</span><span class=p>,</span> <span class=s1>&#39;author&#39;</span><span class=p>,</span> <span class=p>)</span>
</pre></div> <p><img alt="Django admin" src=https://i.imgur.com/RPyWMX7.png></p> <h1 id=tip-2-loc-du-lieu-theo-y-cua-ban>Tip #2: Lọc dữ liệu theo ý của bạn<a class=headerlink href=#tip-2-loc-du-lieu-theo-y-cua-ban title="Permanent link">&para;</a></h1> <p>Phần lớn người sử dụng Django admin đều dùng filter với một số trường nhất định. Việc này thực hiện rất đơn giản bằng cách thêm tên trường vào <code>list_filter</code>. Nhưng chúng ta hoàn toàn có thể tùy biến việc lọc dữ liệu này.</p> <p>Ví dụ với trang Web của chúng ta, bạn muốn lọc ra những bức ảnh có trên 100 comment. Vậy phải làm thế nào? Chúng ta sẽ tạo ra một filter mới và cho nó vào <code>list_filter</code>.</p> <div class=codehilite><pre><span></span><span class=k>class</span> <span class=nc>ProductiveAuthorsFilter</span><span class=p>(</span><span class=n>admin</span><span class=o>.</span><span class=n>SimpleListFilter</span><span class=p>):</span>
    <span class=n>parameter_name</span> <span class=o>=</span> <span class=s1>&#39;is_productive&#39;</span>
    <span class=n>title</span> <span class=o>=</span> <span class=s1>&#39;Productive author&#39;</span>
    <span class=n>YES</span><span class=p>,</span> <span class=n>NO</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span>

    <span class=c1># Number of comments for an author to be considered a productive one</span>
    <span class=n>THRESHOLD</span> <span class=o>=</span> <span class=mi>100</span>

    <span class=k>def</span> <span class=nf>lookups</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>,</span> <span class=n>model_admin</span><span class=p>):</span>
        <span class=k>return</span> <span class=p>(</span>
            <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>YES</span><span class=p>,</span> <span class=s1>&#39;yes&#39;</span><span class=p>),</span>
            <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>NO</span><span class=p>,</span> <span class=s1>&#39;no&#39;</span><span class=p>),</span>
        <span class=p>)</span>

    <span class=k>def</span> <span class=nf>queryset</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>,</span> <span class=n>queryset</span><span class=p>):</span>
        <span class=n>qs</span> <span class=o>=</span> <span class=n>queryset</span><span class=o>.</span><span class=n>annotate</span><span class=p>(</span><span class=n>Count</span><span class=p>(</span><span class=s1>&#39;comments&#39;</span><span class=p>))</span>

        <span class=c1># Note the syntax.  This way we avoid touching the queryset if our</span>
        <span class=c1># filter is not used at all.</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>value</span><span class=p>()</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>YES</span><span class=p>:</span>
            <span class=k>return</span> <span class=n>qs</span><span class=o>.</span><span class=n>filter</span><span class=p>(</span><span class=n>comments__count__gte</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>THRESHOLD</span><span class=p>)</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>value</span><span class=p>()</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>NO</span><span class=p>:</span>
            <span class=k>return</span> <span class=n>qs</span><span class=o>.</span><span class=n>filter</span><span class=p>(</span><span class=n>comments__count__lt</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>THRESHOLD</span><span class=p>)</span>

        <span class=k>return</span> <span class=n>queryset</span>


<span class=k>class</span> <span class=nc>PictureAdmin</span><span class=p>(</span><span class=n>admin</span><span class=o>.</span><span class=n>ModelAdmin</span><span class=p>):</span>
    <span class=n>list_filter</span> <span class=o>=</span> <span class=p>[</span><span class=o>...</span><span class=p>,</span> <span class=n>ProductiveAuthorsFilter</span><span class=p>]</span>
</pre></div> <p>Bây giờ chúng ta đã lọc ra những bức ảnh được cộng đồng quan tâm tích cực một cách dễ dàng.</p> <p><img alt="Django filter" src=https://i.imgur.com/czwI7NY.png></p> <p>Và chúng ta có thể thực hiện các thao tác với những user này, ví dụ như quảng cáo chẳng hạn. Cách thực hiện cụ thể sẽ được trình bày trong phần tiếp theo.</p> <h1 id=tip-3-cho-nhung-thao-tac-pho-bien-vao-actions>Tip #3: Cho những thao tác phổ biến vào "actions"<a class=headerlink href=#tip-3-cho-nhung-thao-tac-pho-bien-vao-actions title="Permanent link">&para;</a></h1> <p>Đây là một tính năng tuyệt với một trang admin. Bạn có nhớ mục "actions" trong thanh công cụ phía trên của mỗi model. Sẽ vô cùng tiện lợi nếu chúng ta có thể chọn ra một số bức ảnh ấn tượng và quảng bá cho nó chỉ bằng một vài click chuột. Django admin cho phép chúng ta làm như vậy rất dễ dàng.</p> <div class=codehilite><pre><span></span><span class=k>class</span> <span class=nc>PictureAdmin</span><span class=p>(</span><span class=n>admin</span><span class=o>.</span><span class=n>ModelAdmin</span><span class=p>):</span>
    <span class=n>actions</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;promote&#39;</span><span class=p>,</span> <span class=p>]</span>

    <span class=k>def</span> <span class=nf>promote</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>,</span> <span class=n>queryset</span><span class=p>):</span>
        <span class=n>queryset</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>is_promoted</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>message_user</span><span class=p>(</span><span class=n>request</span><span class=p>,</span> <span class=s1>&#39;The posts are promoted&#39;</span><span class=p>)</span>
    <span class=n>promote</span><span class=o>.</span><span class=n>short_description</span> <span class=o>=</span> <span class=s1>&#39;Promote the pictures&#39;</span>
</pre></div> <p>Đây chính là điều chúng ta cần. Không cần phải mở form cho từng đối tượng nữa. Hơn nữa, nó rất dễ dàng mở rộng action của chúng ta, ví dụ sử dụng intermediate form. Django đã <a href=https://docs.djangoproject.com/en/1.9/ref/contrib/admin/actions/#actions-that-provide-intermediate-pages>trình bày điều này</a> rất đầy đủ và chi tiết.</p> <p><img alt="Django action" src=https://i.imgur.com/pvG1BT6.png></p> <h1 id=tip-4-search-trong-bat-cu-truong-nao-ban-muon>Tip #4: Search trong bất cứ trường nào bạn muốn<a class=headerlink href=#tip-4-search-trong-bat-cu-truong-nao-ban-muon title="Permanent link">&para;</a></h1> <p>Filter là một tính năng hay, nhưng nhiều khi chúng ta cần đến tính năng tìm kiếm. Trong phần lớn các ứng dụng, search được sử dụng để tìm kiếm qua các trường của model. Nhưng Django search có thể làm được nhiều hơn thế, khi nó có thể làm việc với các bảng liên kết. Ví dụ, chúng ta muốn tìm kiếm tiêu đề các bức ảnh, tên tác giả và các comment. Chúng ta sẽ làm thế nào?</p> <div class=codehilite><pre><span></span><span class=k>class</span> <span class=nc>PictureAdmin</span><span class=p>(</span><span class=n>admin</span><span class=o>.</span><span class=n>ModelAdmin</span><span class=p>):</span>
    <span class=n>search_fields</span> <span class=o>=</span> <span class=p>(</span><span class=s1>&#39;title&#39;</span><span class=p>,</span> <span class=s1>&#39;author__name&#39;</span><span class=p>,</span> <span class=s1>&#39;comments__text&#39;</span><span class=p>,</span> <span class=p>)</span>
</pre></div> <p>Nếu cơ sở dữ liệu của bạn khá lớn, thì bạn hãy thêm index để việc tìm kiếm nhanh chóng hơn.</p> <p><img alt="Django search" src=https://i.imgur.com/7hoMCgM.png></p> <h1 id=tip-5-xem-trang-view-cua-oi-tuong>Tip #5: Xem trang view của đối tượng<a class=headerlink href=#tip-5-xem-trang-view-cua-oi-tuong title="Permanent link">&para;</a></h1> <p>Một nhu cầu rất hiển nhiên là chúng ta cần xem trang view của đối tượng được tạo ra ở trang admin hiển thị như thế nào với user thông thường. Bình thường, bạn cần truy cập vào form của đối tượng đó và click "View on site". Chúng ta có thể làm việc này dễ dàng hơn:</p> <div class=codehilite><pre><span></span><span class=k>class</span> <span class=nc>PictureAdmin</span><span class=p>(</span><span class=n>admin</span><span class=o>.</span><span class=n>ModelAdmin</span><span class=p>):</span>
    <span class=n>list_display</span> <span class=o>=</span> <span class=p>[</span><span class=o>...</span><span class=p>,</span> <span class=s1>&#39;object_link&#39;</span><span class=p>]</span>

    <span class=k>def</span> <span class=nf>object_link</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>item</span><span class=p>):</span>
        <span class=n>url</span> <span class=o>=</span> <span class=n>item</span><span class=o>.</span><span class=n>get_absolute_url</span><span class=p>()</span>
        <span class=k>return</span> <span class=n>format_html</span><span class=p>(</span><span class=s1>&#39;&lt;a href=&quot;</span><span class=si>{url}</span><span class=s1>&quot;&gt;open&lt;/a&gt;&#39;</span><span class=p>,</span> <span class=n>url</span><span class=o>=</span><span class=n>url</span><span class=p>)</span>
    <span class=n>object_link</span><span class=o>.</span><span class=n>short_description</span> <span class=o>=</span> <span class=s1>&#39;View on site&#39;</span>
</pre></div> <p>Đoạn code trên sẽ thêm link "View on site" vào các đối tượng ở trang index. Ở ví dụ trên, tôi giả thiết rằng bạn đã cài đặt phương thức <code>get_absolute_url</code> cho model. Bạn có thể đưa đoạn code này vào <code>mixin</code> hoặc một trang admin chung để dùng nó cho tất cả các đối tượng.</p> <p><img alt="Django link" src=https://i.imgur.com/N5f3DBy.png></p> <h1 id=tip-6-edit-mot-truong-ngay-tai-cho-trong-chinh-trang-index>Tip #6: Edit một trường ngay tại chỗ trong chính trang index<a class=headerlink href=#tip-6-edit-mot-truong-ngay-tai-cho-trong-chinh-trang-index title="Permanent link">&para;</a></h1> <p>Giả sử chúng ta muốn thêm <code>editor_note</code> vào các comment, và đương nhiên, chúng ta không muốn mở form của từng comment để làm việc này. Django cho phép chúng ta làm việc này dễ dàng bằng cách thay đổi ModelAdmin.</p> <div class=codehilite><pre><span></span><span class=k>class</span> <span class=nc>CommentAdmin</span><span class=p>(</span><span class=n>admin</span><span class=o>.</span><span class=n>ModelAdmin</span><span class=p>):</span>
    <span class=n>list_display</span> <span class=o>=</span> <span class=p>(</span><span class=s1>&#39;picture&#39;</span><span class=p>,</span> <span class=s1>&#39;author&#39;</span><span class=p>,</span> <span class=s1>&#39;editors_note&#39;</span><span class=p>,</span> <span class=p>)</span>
    <span class=n>list_editable</span> <span class=o>=</span> <span class=p>(</span><span class=s1>&#39;editors_note&#39;</span><span class=p>,</span> <span class=p>)</span>
</pre></div> <p>Chỉ cần vào dòng code như trên là đủ. Bây giờ bạn có thể mở danh sách các comment, lọc theo tiêu chí mà bạn muốn, và có thể viết <code>editor_note</code> một cách dễ dàng.</p> <p><img alt="Django edit" src=https://i.imgur.com/JaZBaNY.png></p> <h1 id=tip-7-tuy-bien-total-voi-du-lieu-ban-muon>Tip #7: Tùy biến <code>total</code> với dữ liệu bạn muốn<a class=headerlink href=#tip-7-tuy-bien-total-voi-du-lieu-ban-muon title="Permanent link">&para;</a></h1> <p>Có một dòng <code>total</code> ở dưới mỗi "changelist". Giả sử bạn muốn phân biệt số lượng các bức ảnh về chó và mèo. Tính năng này sẽ yêu cầu chúng ta code khá nhiều vì phải override <code>changelist</code> và template (bạn có thể tìm hiểu thêm về <a href=https://docs.djangoproject.com/en/1.9/ref/contrib/admin/#overriding-admin-templates>override template</a>)</p> <blockquote> <p>"Changelist" là trang mà chúng ta liệt kê các đối tượng theo một số tiêu chí nào đó. Bạn có thể lọc và thực hiện một số thao tác với những đối tượng này. Thông thường, click vào một đối tượng trong changelist sẽ đưa bạn đến changeform của đối tượng đó.</p> </blockquote> <div class=codehilite><pre><span></span><span class=kn>from</span> <span class=nn>django.contrib.admin.views.main</span> <span class=k>import</span> <span class=n>ChangeList</span>

<span class=k>class</span> <span class=nc>PicturesChangeList</span><span class=p>(</span><span class=n>ChangeList</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>get_results</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>):</span>
        <span class=nb>super</span><span class=p>(</span><span class=n>PicturesChangeList</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span><span class=o>.</span><span class=n>get_results</span><span class=p>(</span><span class=n>request</span><span class=p>)</span>
        <span class=n>totals</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>result_list</span><span class=o>.</span><span class=n>aggregate</span><span class=p>(</span>
            <span class=n>dogs_count</span><span class=o>=</span><span class=n>Sum</span><span class=p>(</span><span class=n>Case</span><span class=p>(</span><span class=n>When</span><span class=p>(</span><span class=n>animal_kind</span><span class=o>=</span><span class=n>Picture</span><span class=o>.</span><span class=n>DOG</span><span class=p>,</span> <span class=n>then</span><span class=o>=</span><span class=mi>1</span><span class=p>),</span>
                           <span class=n>output_field</span><span class=o>=</span><span class=n>IntegerField</span><span class=p>())),</span>
            <span class=n>cats_count</span><span class=o>=</span><span class=n>Sum</span><span class=p>(</span><span class=n>Case</span><span class=p>(</span><span class=n>When</span><span class=p>(</span><span class=n>animal_kind</span><span class=o>=</span><span class=n>Picture</span><span class=o>.</span><span class=n>CAT</span><span class=p>,</span> <span class=n>then</span><span class=o>=</span><span class=mi>1</span><span class=p>),</span>
                           <span class=n>output_field</span><span class=o>=</span><span class=n>IntegerField</span><span class=p>())))</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>totals</span> <span class=o>=</span> <span class=n>totals</span>


<span class=k>class</span> <span class=nc>PictureAdmin</span><span class=p>(</span><span class=n>admin</span><span class=o>.</span><span class=n>ModelAdmin</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>get_changelist</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>PicturesChangeList</span>
</pre></div> <p>Và dưới đây là template</p> <div class=codehilite><pre><span></span><span class=cp>{%</span> <span class=k>extends</span> <span class=s2>&quot;admin/change_list.html&quot;</span> <span class=cp>%}</span>
<span class=cp>{%</span> <span class=k>block</span> <span class=nv>result_list</span> <span class=cp>%}</span>
  <span class=cp>{{</span> <span class=nb>block</span><span class=nv>.super</span> <span class=cp>}}</span>
  <span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>
    There are
    <span class=p>&lt;</span><span class=nt>strong</span><span class=p>&gt;</span>
      <span class=cp>{{</span> <span class=nv>cl.totals.dogs_count</span><span class=o>|</span><span class=nf>default</span><span class=s1>:&#39;none&#39;</span> <span class=cp>}}</span> dogs and
      <span class=cp>{{</span> <span class=nv>cl.totals.cats_count</span><span class=o>|</span><span class=nf>default</span><span class=s1>:&#39;none&#39;</span> <span class=cp>}}</span> cats
    <span class=p>&lt;/</span><span class=nt>strong</span><span class=p>&gt;</span>
    on this page.
  <span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
<span class=cp>{%</span> <span class=k>endblock</span> <span class=cp>%}</span>
</pre></div> <p><img alt="Django total" src=https://i.imgur.com/MkGJCRf.png></p> <h1 id=tip-8-readonly-trang-admin-voi-mot-vai-nguoi-dung>Tip #8: Readonly trang admin với một vài người dùng<a class=headerlink href=#tip-8-readonly-trang-admin-voi-mot-vai-nguoi-dung title="Permanent link">&para;</a></h1> <p>Ví dụ chúng ta muốn giới hạn readonly cho một vài người dùng để tránh việc họ có thể làm hỏng cả trang Web. Chúng ta có thể làm việc này khá đơn giản với Django admin.</p> <div class=codehilite><pre><span></span><span class=k>class</span> <span class=nc>GrandmaProofAdmin</span><span class=p>(</span><span class=n>admin</span><span class=o>.</span><span class=n>ModelAdmin</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>get_readonly_fields</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>,</span> <span class=n>obj</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>request</span><span class=o>.</span><span class=n>user</span><span class=o>.</span><span class=n>username</span> <span class=o>==</span> <span class=s1>&#39;granny&#39;</span><span class=p>:</span>
            <span class=k>return</span> <span class=p>[</span><span class=n>f</span><span class=o>.</span><span class=n>name</span> <span class=k>for</span> <span class=n>f</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>model</span><span class=o>.</span><span class=n>_meta</span><span class=o>.</span><span class=n>fields</span><span class=p>]</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=k>return</span> <span class=nb>super</span><span class=p>(</span><span class=n>GrandmaProofAdmin</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span><span class=o>.</span><span class=n>get_readonly_fields</span><span class=p>(</span><span class=n>request</span><span class=p>,</span> <span class=n>obj</span><span class=p>)</span>


<span class=k>class</span> <span class=nc>PictureAdmin</span><span class=p>(</span><span class=n>GrandmaProofAdmin</span><span class=p>):</span>
    <span class=o>...</span>
</pre></div> <p>Bây giờ, bạn có thể kế thừa quyền edit với những user được chỉ định. Lưu ý rằng, cách làm này không đảm bảo sẽ phù hợp với mọi hoàn cảnh. Bạn có thể cần cài đặt nhiều hơn nữa.</p> <h1 id=tip-9-tuy-bien-thao-tac-voi-tung-oi-tuong>Tip #9: Tùy biến thao tác với từng đối tượng<a class=headerlink href=#tip-9-tuy-bien-thao-tac-voi-tung-oi-tuong title="Permanent link">&para;</a></h1> <p>Có những lúc, bạn chỉ muốn thực hiện action nào đó với chỉ một đối tượng mà thôi. Mục "action" trong thanh công cụ có thể làm được, nhưng việc phải chọn ra đối tượng đó, chọn chọn action khá mất thời gian. Bạn có thể thao tác nhanh hơn bằng cách click chỉ 1 nút.</p> <p>Ví dụ chúng ta muốn gửi email đến các user, biểu thị sự tri ân với đóng góp của họ với trang Web của chúng ta.</p> <div class=codehilite><pre><span></span><span class=k>class</span> <span class=nc>PictureAdmin</span><span class=p>(</span><span class=n>admin</span><span class=o>.</span><span class=n>ModelAdmin</span><span class=p>):</span>
    <span class=n>list_display</span> <span class=o>=</span> <span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=s1>&#39;mail_link&#39;</span><span class=p>,</span> <span class=p>)</span>

    <span class=k>def</span> <span class=nf>mail_link</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>):</span>
        <span class=n>dest</span> <span class=o>=</span> <span class=n>reverse</span><span class=p>(</span><span class=s1>&#39;admin:myapp_pictures_mail_author&#39;</span><span class=p>,</span>
                       <span class=n>kwargs</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;pk&#39;</span><span class=p>:</span> <span class=n>obj</span><span class=o>.</span><span class=n>pk</span><span class=p>})</span>
        <span class=k>return</span> <span class=n>format_html</span><span class=p>(</span><span class=s1>&#39;&lt;a href=&quot;</span><span class=si>{url}</span><span class=s1>&quot;&gt;</span><span class=si>{title}</span><span class=s1>&lt;/a&gt;&#39;</span><span class=p>,</span>
                           <span class=n>url</span><span class=o>=</span><span class=n>dest</span><span class=p>,</span> <span class=n>title</span><span class=o>=</span><span class=s1>&#39;send mail&#39;</span><span class=p>)</span>
    <span class=n>mail_link</span><span class=o>.</span><span class=n>short_description</span> <span class=o>=</span> <span class=s1>&#39;Show some love&#39;</span>
    <span class=n>mail_link</span><span class=o>.</span><span class=n>allow_tags</span> <span class=o>=</span> <span class=kc>True</span>

    <span class=k>def</span> <span class=nf>get_urls</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=n>urls</span> <span class=o>=</span> <span class=p>[</span>
            <span class=n>url</span><span class=p>(</span><span class=s1>&#39;^(?P&lt;pk&gt;\d+)/sendaletter/?$&#39;</span><span class=p>,</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>admin_site</span><span class=o>.</span><span class=n>admin_view</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>mail_view</span><span class=p>),</span>
                <span class=n>name</span><span class=o>=</span><span class=s1>&#39;myapp_pictures_mail_author&#39;</span><span class=p>),</span>
        <span class=p>]</span>
        <span class=k>return</span> <span class=n>urls</span> <span class=o>+</span> <span class=nb>super</span><span class=p>(</span><span class=n>PictureAdmin</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span><span class=o>.</span><span class=n>get_urls</span><span class=p>()</span>

    <span class=k>def</span> <span class=nf>mail_view</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=n>obj</span> <span class=o>=</span> <span class=n>get_object_or_404</span><span class=p>(</span><span class=n>Picture</span><span class=p>,</span> <span class=n>pk</span><span class=o>=</span><span class=n>kwargs</span><span class=p>[</span><span class=s1>&#39;pk&#39;</span><span class=p>])</span>
        <span class=n>send_mail</span><span class=p>(</span><span class=s1>&#39;Feel the granny</span><span class=se>\&#39;</span><span class=s1>s love&#39;</span><span class=p>,</span> <span class=s1>&#39;Hey, she loves your pet!&#39;</span><span class=p>,</span>
                  <span class=s1>&#39;granny@yoursite.com&#39;</span><span class=p>,</span> <span class=p>[</span><span class=n>obj</span><span class=o>.</span><span class=n>author</span><span class=o>.</span><span class=n>email</span><span class=p>])</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>message_user</span><span class=p>(</span><span class=n>request</span><span class=p>,</span> <span class=s1>&#39;The letter is on its way&#39;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>redirect</span><span class=p>(</span><span class=n>reverse</span><span class=p>(</span><span class=s1>&#39;admin:myapp_picture_changelist&#39;</span><span class=p>))</span>
</pre></div> <p>Rất đơn giản, bây giờ, một link sẽ hiển thị bên cạnh các trường của đối tượng, cho phép chúng ta có thể send mail nhanh chóng bằng cách click.</p> <p><img alt="Django sendmail" src=https://i.imgur.com/EnaXHVe.png></p> <h1 id=bonus-tip-giam-thieu-query-bang-cach-them-mot-dong-duy-nhat-vao-admin>Bonus Tip: Giảm thiểu query bằng cách thêm một dòng duy nhất vào admin<a class=headerlink href=#bonus-tip-giam-thieu-query-bang-cach-them-mot-dong-duy-nhat-vao-admin title="Permanent link">&para;</a></h1> <p>Một tip khá phổ biến với Django admin (và cả các thành phần khác) là <code>select_related</code>. Nó sẽ giúp chúng ta load các đối tượng liên quan bằng cách thêm tên của chúng vào <code>list_select_related</code> và khi hiển thị thì không cần query thêm nữa. Nhưng nếu chúng ta muốn load tất cả các đối tượng liên quan thì sao? Rất đơn giản, chúng ta có thể set giá trị <code>list_select_related</code> là <code>True</code> thì Django sẽ load tất cả các đối tượng được liên kết với đối tượng hiện tại.</p> <div class=codehilite><pre><span></span><span class=k>class</span> <span class=nc>PictureAdmin</span><span class=p>(</span><span class=n>admin</span><span class=o>.</span><span class=n>ModelAdmin</span><span class=p>):</span>
    <span class=n>list_select_related</span> <span class=o>=</span> <span class=kc>True</span>
</pre></div> <h1 id=khi-nao-thi-khong-nen-dung-django-admin>Khi nào thì không nên dùng Django admin<a class=headerlink href=#khi-nao-thi-khong-nen-dung-django-admin title="Permanent link">&para;</a></h1> <p>Trên đây là những tip và chúng ta có thể dùng để làm việc với Django admin. Tuy nhiên, Django admin cũng có những hạn chế nhất định.</p> <p>Dưới dây là những hạn chế của Django admin, nếu bạn cảm thấy nó đang cản trở hoạt động của trang Web của bạn, thì bạn không nên dùng nó.</p> <h2 id=cap-nhat-template>Cập nhật template<a class=headerlink href=#cap-nhat-template title="Permanent link">&para;</a></h2> <p>Một điều khá bất cập là mặc dù đã được test để đảm bảo tương thích, nhưng template và thiết kế của những phiên bản mới vẫn có trường hợp không tương thích với phiên bản cũ. Nhất là khi bạn đã tùy biến và override nhiều thành phần rồi, việc update lên phiên bản mới có thể làm vỡ layout hiện tại. Django 1.9 với thiết kế phẳng cho trang admin, tuy nhiên hãy cân nhắc kỹ trước khi update vì nếu không thiết này không tương thích, bạn sẽ phải sửa khá nhiều.</p> <h2 id=javascript-api-khong-on-inh>JavaScript API không ổn định<a class=headerlink href=#javascript-api-khong-on-inh title="Permanent link">&para;</a></h2> <p>Cũng giống như những API khác của Django, JavaScript API cũng không được đảm bảo là ổn định. Hơn nữa, nó cũng không cho phép bạn tùy biến. Ví dụ, bạn không thể thay đổi độ rộng của các popup mà không override gần như toàn bộ file.</p> <h2 id=permission-mac-inh-khong-phu-hop>Permission mặc định không phù hợp<a class=headerlink href=#permission-mac-inh-khong-phu-hop title="Permanent link">&para;</a></h2> <p>Nếu bạn muốn xem danh sách các đối tượng, Django admin cung cấp cho bạn changelist. Bạn có thể tùy biến nó, rất ấn tượng. Nhưng nó có một vấn đề: để xem được changelist, bạn cần phải có quyền "change". Nhưng với một trang Web thông thường, việc chỉ xem danh sách đối tượng thì quyền "view" là đủ.</p> <p>Vì vậy, một developer phải đối mặt với 2 lựa chọn: một là bỏ tính năng changelist, hai là override nó với 90% code dùng lại. Lựa chọn nào cũng không phải ý tưởng hay.</p> <h2 id=khong-the-su-dung-class-based-view>Không thể sử dụng class-based view<a class=headerlink href=#khong-the-su-dung-class-based-view title="Permanent link">&para;</a></h2> <p>Hiện tại, bạn chưa thể sử dụng class-based view cho trang admin. Nếu trang Web của bạn có sử dụng class-based view để chia sẻ những tính năng giống nhau thì việc gắn kết nó vào trang admin cũng không hề dễ dàng. Bạn có thể phải thay đổi middleware.</p> <h2 id=cai-at-nguyen-khoi>Cài đặt nguyên khối<a class=headerlink href=#cai-at-nguyen-khoi title="Permanent link">&para;</a></h2> <p>Module <code>django.contrib.admin.options</code> có hơn 1900 dòng code (vào thời điểm bài viết này là 1977 dòng). Tất nhiên là những dòng code này rất dễ hiểu, nhưng việc duy trì một file gần 2000 dòng code không phải là ý tưởng hay. Nếu bạn quan tâm thì có thể tìm hiểu thêm package <code>django.db.models</code> có thể có những module còn lớn hơn nữa.</p> <h2 id=fieldset-chi-hieu-qua-voi-cac-truong-hop-on-gian><code>Fieldset</code> chỉ hiệu quả với các trường hợp đơn giản<a class=headerlink href=#fieldset-chi-hieu-qua-voi-cac-truong-hop-on-gian title="Permanent link">&para;</a></h2> <p>Với <code>fieldset</code> của admin, nó sẽ hiệu quả nếu bạn làm việc với những model được liên kết đơn giản. Nếu bạn muốn sử dụng các tab, fieldset đóng mở, v.v... thì có thể bạn sẽ cần code khá nhiều để tùy biến module này.</p> <h1 id=ket-luan>Kết luận<a class=headerlink href=#ket-luan title="Permanent link">&para;</a></h1> <p>Django admin là một app rất đầy đủ, tiện lợi với người phát triển Web. Bài viết này trình bày cả những lợi ích và hạn chế của nó. Nên tùy vào tình huống thực tế mà bạn có thể quyết định xem có nên sử dụng nó hay không.</p> </div> <div class=post-footer> <div class=tags> <i class="fa fa-tags"></i> <span>#Python</span> <span>#Django</span> <span>#admin</span> </div> </div> </div><div class=blog-pager> <span class=newer-link> <a href=/2016/Feb/02/django-abstract-base-classes-vs-multiple-table-inheritance.html> Newer Post </a> </span> <span class=older-link> <a href=/2016/Jan/11/advanced-web-scraping-and-crawling-with-scrapy-and-sqlalchemy.html> Older Post </a> </span> </div><div class=comments> <div class=finally> <p><em>I apologise for any typos. If you notice a problem, please let me know.</em> <p>Thank you all for your attention. </div> <div id=disqus_thread></div> <script src=/theme/js/disqus.min.js?81e8a5f5></script> <noscript> Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript> comments powered by Disqus. </a> </noscript> </div></div> </div> </div> <div class=sidebar-wrapper> <div class=widget> <h2>Welcome</h2> <div> <img src=/theme/images/banner.gif alt=Welcome> </div> </div><div class="widget recent-posts"> <h2>Recent Posts</h2> <ul> <li> <a href=/2019/May/20/elasticsearch-data-organization.html> <img alt="Elasticsearch: Data organization" src=https://i.imgur.com/JT4y7Qf.jpg> </a> <a href=/2019/May/20/elasticsearch-data-organization.html>Elasticsearch: Data organization</a> <li> <a href=/2019/May/20/elasticsearch-intro.html> <img alt="Elasticsearch: Intro" src=https://i.imgur.com/JT4y7Qf.jpg> </a> <a href=/2019/May/20/elasticsearch-intro.html>Elasticsearch: Intro</a> <li> <a href=/2019/Apr/20/javascript-popups.html> <img alt="JavaScript: Popups" src=https://i.imgur.com/FxmcwPy.png> </a> <a href=/2019/Apr/20/javascript-popups.html>JavaScript: Popups</a> <li> <a href=/2019/Mar/20/javascript-iterator-and-generator.html> <img alt="JavaScript: Iterator and generator" src=https://i.imgur.com/lev8iT9.jpg> </a> <a href=/2019/Mar/20/javascript-iterator-and-generator.html>JavaScript: Iterator and generator</a> <li> <a href=/2019/Feb/20/javascript-decorator.html> <img alt="JavaScript decorator" src=https://i.imgur.com/Sh3yLI0.png> </a> <a href=/2019/Feb/20/javascript-decorator.html>JavaScript decorator</a> </ul> </div><div class="widget labels"> <h2>Blog Archive</h2> <ul> <li> <a href=/2019/ > 2019 </a> <li> <a href=/2018/ > 2018 </a> <li> <a href=/2017/ > 2017 </a> <li> <a href=/2016/ > 2016 </a> <li> <a href=/2015/ > 2015 </a> <li> <a href=/2014/ > 2014 </a> <li> <a href=/2013/ > 2013 </a> <li> <a href=/2012/ > 2012 </a> <li> <a href=/2011/ > 2011 </a> <li> <a href=/2010/ > 2010 </a> </ul> </div><div class=widget> <h2>Twitter timeline</h2> <a class=twitter-timeline data-height=500 data-dnt=true data-theme=light href=https://twitter.com/_naa_4f data-chrome="noheader nofooter transparent noborders"> Tweets by manhhomienbienthuy </a> </div> </div> </div> <a href=# class="smooth-scroll back-to-top"> <i class="fa fa-arrow-circle-up fa-3x"></i> </a> </main> <footer> <div class=infos> <div class=wrapper> <div class=widget> <a href=/ title="manhhomienbienthuy's space" class=logo> <img alt="manhhomienbienthuy's space" src=/theme/images/logo_white.png> </a> <span class=right>I'm a hacker, enter my world...</span> </div><div class=widget> <p> Created with all my ♥ and soul, dedicated to my love, yunachan <p> Powered by <a href=http://blog.getpelican.com/ target=_blank>Pelican</a>, which takes great advantage of <a href=https://www.python.org/ target=_blank>Python</a> <p> This site content is licensed under a <a href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank> CC BY-NC-ND 4.0 </a> License. <p> Updated at <a target=_blank href="http://www.timeanddate.com/worldclock/fixedtime.html?iso=2019-06-20T02:42:55"> 2019-06-20 02:42:55 </a> </div><div class=widget> <p> Hosting by <a href=https://manhhomienbienthuy.bitbucket.io/ >Bitbucket</a> and <a href=https://manhhomienbienthuy.github.io/ >Github</a>, image hosting by <a href=https://manhhomienbienthuy.imgur.com/ target=_blank>imgur</a>, <a href=https://instagram.com/manhhomienbienthuy/ target=_blank>Instagram</a> and <a href=https://photos.google.com/ target=_blank>Google Photo</a> <p> Theme based on <a href=https://vanice-veethemes.blogspot.com/ target=_blank>Vanice theme</a>, icons from <a href=https://fontawesome.com/ target=_blank>Font Awesome</a>, comments powered by <a href=https://disqus.com/home/forums/manhhomienbienthuy/ target=_blank>Disqus</a> </div> </div> </div> <div class=credits> <div class=wrapper> <div class=left> <!--
          Regarding copyright, in general, standalone pages (as
          opposed to files generated as part of manuals) on the GNU
          web server should be under CC BY-ND 4.0.  Please do NOT
          change or remove this without talking with the webmasters or
          licensing team first.  Please make sure the copyright date
          is consistent with the document.  For web pages, it is ok to
          list just the latest year the document was modified, or
          published.

          If you wish to list earlier years, that is ok too.  Either
          "2001, 2002, 2003" or "2001-2003" are ok for specifying
          years, as long as each year in the range is in fact a
          copyrightable year, i.e., a year in which the document was
          published (including being publicly visible on the web or in
          a revision control system).
        --> Copyright © 2010-2019 <a href=/pages/about-me.html><strong>manhhomienbienthuy</strong></a>. All rights reserved. </div> <div class=right> <ul> <li><a href=/ >Home</a> <li><a href=/pages/about-me.html>About</a> <li><a href=# class=smooth-scroll>Top ↑</a> </ul> </div> </div> </div></footer> <script src=https://code.jquery.com/jquery-3.2.1.js></script> <script src=//cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js></script> <script src=//cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.2/imagesloaded.pkgd.min.js></script> <script src=/theme/js/vpyeu.min.js?d72c87bd></script> <script id=dsq-count-scr src=https://manhhomienbienthuy.disqus.com/count.js async></script>