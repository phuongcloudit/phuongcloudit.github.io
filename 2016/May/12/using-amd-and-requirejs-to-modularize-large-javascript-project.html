<!DOCTYPE html><title>Using AMD and RequireJS to modularize large JavaScript project - manhhomienbienthuy's space</title> <meta charset=utf-8> <meta name=viewport content="width=device-width, initial-scale=1"> <link rel=apple-touch-icon href=/theme/images/icon-touch.png> <link rel=icon sizes=192x192 href=/theme/images/icon-touch.png> <link rel="shortcut icon" href=/theme/images/favicon.ico> <link rel=author href=/humans.txt> <meta name=msapplication-TileImage content=/theme/images/icon-tile.png> <meta name=twitter:dnt content=on> <meta name=Author content=manhhomienbienthuy> <meta name=rating content=general> <meta name=twitter:card content=product> <meta name=twitter:site content=@_naa_4f> <meta name=twitter:creator content=@_naa_4f> <link href=/feeds/all.atom.xml type=application/atom+xml rel=alternate title="manhhomienbienthuy's space Full Atom Feed"> <meta name=description content="Trong quá trình phát triển Web, chắc chắn bạn sẽ phải làm việc với JavaScript. Theo thời gian, cùng với sự phát triển của dự án, code JavaScript cũng càng ngày càng phức tạp. Bài viết này sẽ trình bày một thư viện sẽ giúp chúng ta module hóa code …"> <meta name=keywords content="Javascript, RequireJS, modularize, blog, naa, manhhomienbienthuy, pelican, static site generator"> <meta name=twitter:title content="Using AMD and RequireJS to modularize large JavaScript project - manhhomienbienthuy's space"> <meta name=twitter:description content="Trong quá trình phát triển Web, chắc chắn bạn sẽ phải làm việc với JavaScript. Theo thời gian, cùng với sự phát triển của dự án, code JavaScript cũng càng ngày càng phức tạp. Bài viết này sẽ trình bày một thư viện sẽ giúp chúng ta module hóa code …"> <meta name=twitter:image content=/https://i.imgur.com/N7tJEIB.jpg> <link rel=stylesheet href=//cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css> <link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.0.0/css/font-awesome.min.css> <link rel=stylesheet href=/theme/css/vpyeu.min.css?5d2c7d5e> <header> <div class=navbar> <div class=wrapper> <div class=nav-menu> <div class=menu-toggle> <i class="fa fa-reorder"></i> </div> <ul class=menus> <li><a href=/ >Home</a> <li><a href=/category/general.html> General <li><a href=/category/life.html> Life <li><a href=/category/programming.html class=current> Programming <li><a href=/category/travel.html> Travel </ul> </div><div class="right links"> <ul> <li> <a href=https://twitter.com/_naa_4f target=_blank> <i class="fa fa-twitter"></i> </a> <li> <a href=https://instagram.com/manhhomienbienthuy/ target=_blank> <i class="fa fa-instagram"></i> </a> <li> <a href=https://www.facebook.com/manhhomienbienthuy target=_blank> <i class="fa fa-facebook"></i> </a> <li> <a href=https://github.com/manhhomienbienthuy target=_blank> <i class="fa fa-github"></i> </a> <li> <a href=/feeds/all.atom.xml target=_blank> <i class="fa fa-rss"></i> </a> </ul> </div> </div> </div><noscript> <div class="warning head-warn"> <div class=wrapper> <p><strong>Notice:</strong> While JavaScript is not essential for this website, your interaction with the content will be limited. Please turn JavaScript on for the full experience. </div> </div> </noscript><div class=banner> <div class=wrapper> <a href=/ > <img alt="manhhomienbienthuy's space" src=/theme/images/logo.png> </a> </div> </div></header> <main> <div class=wrapper> <div class=main-wrapper> <div class=entry> <div class=entry-detail> <div class=post> <h1 class=title> Using AMD and RequireJS to modularize large JavaScript project </h1> <div class=meta> Posted in <a href=/category/programming.html>Programming</a> on May 12, 2016 by <a href=/pages/about-me.html>manhhomienbienthuy</a> <span class=right> <i class="fa fa-comments"></i> <a href=#disqus_thread data-disqus-identifier=/2016/May/12/using-amd-and-requirejs-to-modularize-large-javascript-project.html> Comments </a> </span> </div> <div class=post-body> <img src=https://i.imgur.com/N7tJEIB.jpg alt="Using AMD and RequireJS to modularize large JavaScript project"> <p>Trong quá trình phát triển Web, chắc chắn bạn sẽ phải làm việc với JavaScript. Theo thời gian, cùng với sự phát triển của dự án, code JavaScript cũng càng ngày càng phức tạp. Bài viết này sẽ trình bày một thư viện sẽ giúp chúng ta module hóa code JavaScript để giúp nó dễ bảo trì hơn, đó là sử dụng AMD (Asynchronous Module Definition) và RequireJS.</p> <h1 id=tai-sao-phai-module-hoa-javascript>Tại sao phải module hóa JavaScript<a class=headerlink href=#tai-sao-phai-module-hoa-javascript title="Permanent link">&para;</a></h1> <p>Module có thể hiểu đơn giản là một phần của code cài đặt một chức năng nào đó. Phần code này sẽ được lưu trữ riêng biệt với các phần code khác. Thông thường, chúng ta lưu các module thành các file riêng biệt. Module hóa đơn giản là việc chia code thành các module. Vậy tại sao phải làm như vậy?</p> <p>Nếu không chia module, code JavaScript trở nên phức tạp với hàng trăm nghìn dòng code. Mà với những file lớn như vậy, bạn phải là một siêu nhân mới có thể đọc và hiểu chúng. Để code dễ đọc hơn, và dễ bảo trì, thay đổi hơn, chúng ta cần chia chúng thành các thành phần nhỏ hơn. Mỗi phần có những tính năng riêng biệt, khi cần sửa chữa phần nào chỉ cần quan tâm đến đúng phần đó là được.</p> <p>Việc module hóa là một việc rất đỗi tự nhiên như vậy, nhưng JavaScript có vẻ lại chưa có cơ chế giúp chúng ta làm việc đó. Hiện nay ECMAScript 2015 (ES2015 hoặc có thể gọi là ES6) có thể giải quyết vấn đề này bằng cách thêm khái niệm module cho ngôn ngữ. Nhưng các trình duyệt vẫn chưa hoàn toàn hỗ trợ ES2015 nên đây vẫn là chuyện của tương lai.</p> <p>Có thể bạn đang thắc mắc rằng, chẳng phải mỗi file <code>.js</code> chính là một module rồi sao? Đương nhiên, bạn có thể chia code thành các file và load chúng bằng thẻ <code>script</code>. Nhưng cách làm này chưa hoàn toàn được coi là module hóa. Có rất nhiều vấn đề liên quan đến cách làm này.</p> <p>Chúng ta hãy xem qua ví dụ sau, đây là một ví dụ khá điển hình nếu chúng ta chia code JavaScript thành các file <code>.js</code>.</p> <div class=codehilite><pre><span></span><span class=cp>&lt;!DOCTYPE html&gt;</span>
<span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&quot;utf-8&quot;</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>Lorem Ipsum<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&quot;stylesheet&quot;</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;assets/css/styles.css&quot;</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>

<span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
  <span class=c>&lt;!-- lược bỏ nội dung body --&gt;</span>
  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;components/jquery.js&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;app/modules/utils/load-html-content.js&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;app/modules/utils/show-hide-div.js&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;app/modules/svg-pie-chart.js&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;app/modules/donation.js&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;app/modules/login.js&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;app/modules/utils/new-content-loader.js&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;app/modules/generic-module.js&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;app/modules/module1.js&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;app/modules/module2.js&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;app/config.js&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;app/main.js&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</pre></div> <p>Chúng ta hãy bỏ qua các thành phần khác, tạm thời chỉ quan tâm đến phần load các file <code>.js</code> mà thôi. Các file này cần phải được load theo đúng thứ tự như sau:</p> <ol> <li>jQuery phải được load đầu tiên vì tất cả các file khác đều cần đến nó.</li> <li>Những thành phần nằm trong <code>app/modules</code> sẽ được dùng bởi các thành phần chính của ứng dụng, nên chúng cần phải được load trước.</li> <li>Tiếp theo chúng ta load code chính của ứng dụng.</li> </ol> <p>Chúng ta có thể dễ dàng nhận ra rằng, việc load các file theo đúng thứ tự là rất quan trọng vì chúng phụ thuộc lẫn nhau. Ngoài ra, để hạn chế sự ảnh hưởng của những thẻ <code>script</code> tới quá trình render trang, chúng ta thường đặt chúng ở cuối trang.</p> <p>Cách làm này không được hiệu quả cho lắm vì chúng ta phải tự mình quản lý các module và load chúng cho đúng thứ tự thì mới chạy được. Ngoài ra các thẻ <code>script</code> còn yêu cầu thêm các request để tải các file này, và trình duyệt sẽ ngừng việc render cho đến khi các file này được tải và thực thi xong.</p> <p>Việc này ban đầu có thể chưa phải là vấn đề, nhưng khi code phức tạp dần lên, các file tăng dần lên và chúng ta càng ngày càng khó quản lý các thẻ <code>script</code> hơn. Kể cả chúng ta dùng các công cụ minify code thì chúng ta vẫn phải gộp chúng theo đúng thứ tự.</p> <p>Ngoài ra còn một vấn đề khác nữa. Các trang của một ứng dụng thường dùng chung layout với nhau, do đó sẽ load JavaScript giống nhau. Tuy nhiên, không phải code JavaScript nào cũng cần cho tất cả các trang. Có rất nhiều phần code chỉ cần cho một vài trang nhất định mà thôi.</p> <p>Khi đó, chúng ta phải làm một việc, đó là đặt class hay id cho một thành phần HTML nào đó, rồi trong code JavaScript thì kiểm tra xem trang có thành phần đó hay không. Nếu có thì chạy, không thì thôi. Việc load hoàng loạt JavaScript thừa như vậy thật là lãng phí băng thông.</p> <p>Những lúc như vậy, tôi rất hy vọng JavaScript có một cơ chế kiểu như <code>import</code> của Python, để chúng ta chỉ load những gì cần cho trang mà thôi.</p> <p>Như vậy, vấn để ở đây rất rõ ràng, và chúng ta cần một phương thức tốt hơn để module hóa JavaScript hơn là chỉ đơn giản là chia code thành nhiều file và load từng file một. Sau một thời gian tìm hiểu, thì tôi biết đến <a href=http://requirejs.org/ >RequireJS</a>. Trong bài viết này, tôi sẽ trình bày một số kiến thức mà mình đã thu được, hy vọng sẽ giúp các bạn trong quá trình phát triển ứng dụng Web.</p> <h1 id=cach-module-hoa-javascript>Cách module hóa JavaScript<a class=headerlink href=#cach-module-hoa-javascript title="Permanent link">&para;</a></h1> <p>Mặc dù JavaScript không hỗ trợ các module, nhưng cộng đồng các developer đã cố gắng tìm ra cách để làm việc này. Sau một thời gian phát triển, thì hiện nay có một số phương thức module hóa như sau:</p> <ul> <li>The Module pattern</li> <li><a href=http://www.commonjs.org/ >CommonJS</a></li> <li><a href=https://en.wikipedia.org/wiki/Asynchronous_module_definition>Asynchronous Module Definition (AMD)</a></li> </ul> <p>Trong những phương án trên, module pattern không yêu cầu bất cứ một công cụ hay thư viện nào, nó có thể hoạt động ở mọi môi trường JavaScript. CommonJS hướng tới mục tiêu là JavaScript chạy ở server-side. AMD chính là phương thức rất phổ biến với những ứng dụng Web, và nó cũng là phương thức mà RequireJS sử dụng.</p> <p>Nói qua một chút về module pattern. Có thể bạn đã sử dụng nó rồi mà không hay biết, nhất là khi bạn thường xuyên code CoffeeScript.</p> <p>Trong JavaScript, module pattern là cách để đóng gói code, nhằm giảm thiểu những xung đột có thể xảy ra khi định nghĩa tên hàm và biến. Nó đơn giản chỉ là code được đặt trong một hàm vô danh được thực thi ngay. Hàm này sẽ trả kết quả là một đối tượng và đối tượng này sẽ được sử dụng như một module. Mọi code JavaScript để tạo ra đối tượng đó hoàn toàn được đóng gói trong hàm vô danh. Hãy xem qua ví dụ sau, bạn sẽ thấy nó rất quen thuộc.</p> <div class=codehilite><pre><span></span><span class=kd>var</span> <span class=nx>loginModule</span> <span class=o>=</span> <span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
    <span class=s2>&quot;use strict&quot;</span><span class=p>;</span>

    <span class=kd>var</span> <span class=nx>module</span> <span class=o>=</span> <span class=p>{};</span>
    <span class=kd>var</span> <span class=nx>privateVariable</span> <span class=o>=</span> <span class=mi>42</span><span class=p>;</span>

    <span class=kd>var</span> <span class=nx>privateLogin</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>userNameValue</span><span class=p>,</span> <span class=nx>userPasswordValue</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=nx>userNameValue</span> <span class=o>===</span> <span class=s2>&quot;admin&quot;</span> <span class=o>&amp;&amp;</span> <span class=nx>userPasswordValue</span> <span class=o>===</span> <span class=s2>&quot;secret&quot;</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>return</span> <span class=nx>privateVariable</span><span class=p>;</span>
        <span class=p>}</span>
    <span class=p>};</span>

    <span class=nx>module</span><span class=p>.</span><span class=nx>myConstant</span> <span class=o>=</span> <span class=mi>1984</span><span class=p>;</span>
    <span class=nx>module</span><span class=p>.</span><span class=nx>login</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>userNameValue</span><span class=p>,</span> <span class=nx>userPasswordValue</span><span class=p>)</span> <span class=p>{</span>
        <span class=nx>privateLogin</span><span class=p>(</span><span class=nx>userNameValue</span><span class=p>,</span> <span class=nx>userPasswordValue</span><span class=p>);</span>
        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&quot;login implementation omitted&quot;</span><span class=p>);</span>
    <span class=p>};</span>

    <span class=nx>module</span><span class=p>.</span><span class=nx>logout</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&quot;logout implementation omitted&quot;</span><span class=p>);</span>
    <span class=p>};</span>

    <span class=k>return</span> <span class=nx>module</span><span class=p>;</span>
<span class=p>})();</span>
</pre></div> <p>Trên đây chỉ là một ví dụ đơn giản, module pattern có thể được áp dụng phức tạp hơn nhiều, bằng việc sử dụng các đối tượng global hay namespace.</p> <p>Module pattern hoạt động tốt với những ứng dụng nhỏ. Nó rất dễ dàng để cài đặt và không cần thư viện nào cả. Tuy nhiên, khi ứng dụng phức tạp hơn, cách làm này không còn phù hợp nữa. Khi làm việc với ứng dụng có nhiều module, bạn sẽ phải làm nhiều việc nhàm chán như kiếm tra đối tượng có tồn tại ở global hay không, quản lý namespace thật cẩn thận, và vì bạn đang tạo ra các đối tượng, bạn cần phải suy nghĩ để tranh những xung đột khi đặt tên.</p> <p>Hơn nữa, module pattern không thể giải quyết được những vấn đề mà chúng ta đã nói đến ở phần trước. Vì thế chúng ta cần đến AMD và RequireJS.</p> <h1 id=asynchronous-module-definition-amd>Asynchronous Module Definition (AMD)<a class=headerlink href=#asynchronous-module-definition-amd title="Permanent link">&para;</a></h1> <p>AMD là một phương thực định nghĩa module mà module và những thành phần phụ thuộc của nó có thể được load không đồng bộ. Ban đầu, AMD là một bản nháp đặc tả kỹ thuật của CommonJS, nhưng nó không nhận được sự ủng hộ nên sự phát triển tiếp sau đó của nó được chuyển sang <a href=https://github.com/amdjs>amdjs GitHub page</a>.</p> <p>AMD API có những hàm sau:</p> <ul> <li><code>define</code> để định nghĩa module.</li> <li><code>require</code> để load module và các thành phần phụ thuộc.</li> </ul> <p>Hàm <code>define</code> cần 3 tham số, đó là module ID (có thể không có), một xâu các thành phần phụ thuộc và một hàm callback sẽ được gọi khi các thành phần được load.</p> <p>Một khai báo đơn giản cho hàm define như dưới đây:</p> <div class=codehilite><pre><span></span><span class=nx>define</span><span class=p>(</span>
    <span class=nx>module_id</span><span class=p>,</span>
    <span class=p>[</span><span class=nx>dependencies</span><span class=p>],</span>
    <span class=kd>function</span> <span class=p>{}</span>
<span class=p>);</span>
</pre></div> <p>Hàm callback <code>function{}</code> chỉ được thực thi một lần.</p> <p>Hàm <code>require</code> cần 2 tham số:</p> <ul> <li>Một xâu các module cần load.</li> <li>Một hàm callback được thực thi sau khi các module này load xong. Các module ở tham số thức nhất sẽ được truyền vào hàm này như là tham số theo đúng thứ tự chúng được liệt kê.</li> </ul> <p>Dưới đây là một ví dụ đơn giản cho hàm <code>require</code>:</p> <div class=codehilite><pre><span></span><span class=nx>require</span><span class=p>([</span><span class=s2>&quot;main&quot;</span><span class=p>],</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&quot;module main is loaded&quot;</span><span class=p>);</span>
<span class=p>});</span>
</pre></div> <p>Dưới đây là những ưu, nhược điểm của AMD, nếu bạn thấy nó phù hợp với mình thì có thể sử dụng:</p> <p>Ưu điểm:</p> <ul> <li>API rất đơn giản, chi cần 2 hàm <code>require</code> và <code>define</code>.</li> <li>Có rất nhiều cách để load khác nhau. Chúng ta sẽ xem xét một ví dụ ở phần sau.</li> <li>AMD không khó để debug.</li> <li>Khi module hóa ứng dụng, bạn dễ dàng tìm ra phần code nào bị lỗi.</li> <li>Performance: các module được load khi cần, do đó ứng dụng khi khởi tạo rất nhẹ nhàng.</li> </ul> <p>Nhược điểm:</p> <ul> <li>Danh sách thành phần phụ thuộc sẽ rất dài khi ứng dụng trở nên phức tạp.</li> </ul> <div class=codehilite><pre><span></span><span class=nx>define</span><span class=p>(</span>
       <span class=p>[</span><span class=s2>&quot;one&quot;</span><span class=p>,</span> <span class=s2>&quot;two&quot;</span><span class=p>,</span> <span class=s2>&quot;three&quot;</span><span class=p>,</span> <span class=s2>&quot;four&quot;</span><span class=p>,</span> <span class=s2>&quot;five&quot;</span><span class=p>,</span> <span class=s2>&quot;six&quot;</span><span class=p>],</span>
       <span class=kd>function</span><span class=p>(</span><span class=nx>one</span><span class=p>,</span> <span class=nx>two</span><span class=p>,</span> <span class=nx>three</span><span class=p>,</span> <span class=nx>four</span><span class=p>,</span> <span class=nx>five</span><span class=p>,</span> <span class=nx>six</span><span class=p>){</span>
            <span class=s2>&quot;use strict&quot;</span><span class=p>;</span>
            <span class=c1>// module&#39;s code omitted</span>
<span class=p>});</span>
</pre></div> <ul> <li>Một lỗi bất cẩn của lập trình viên có thể khiến ứng dụng hoạt động sai. Ví dụ sau, việc danh sách các thành phần phụ thuộc và tham số hàm callback không khớp không phải lỗi cú pháp và nó sẽ khiến ứng dụng hoạt động theo cách mà không ai hiểu được.</li> </ul> <div class=codehilite><pre><span></span><span class=nx>define</span><span class=p>(</span>
       <span class=p>[</span><span class=s2>&quot;one&quot;</span><span class=p>,</span> <span class=s2>&quot;two&quot;</span><span class=p>,</span> <span class=s2>&quot;three&quot;</span><span class=p>,</span> <span class=s2>&quot;four&quot;</span><span class=p>,</span> <span class=s2>&quot;five&quot;</span><span class=p>,</span> <span class=s2>&quot;six&quot;</span><span class=p>],</span>
       <span class=kd>function</span><span class=p>(</span><span class=nx>one</span><span class=p>,</span> <span class=nx>two</span><span class=p>,</span> <span class=nx>three</span><span class=p>,</span> <span class=nx>four</span><span class=p>,</span> <span class=nx>six</span><span class=p>,</span> <span class=nx>five</span><span class=p>){</span>
            <span class=s2>&quot;use strict&quot;</span><span class=p>;</span>
            <span class=c1>// module&#39;s code omitted</span>
<span class=p>});</span>
</pre></div> <h1 id=ngoai-le-es2015-module>Ngoài lề: ES2015 module<a class=headerlink href=#ngoai-le-es2015-module title="Permanent link">&para;</a></h1> <p>ES2015 (ES6) đã được phát hành chính thức, tuy nhiên các trình duyệt chưa hoàn toàn hỗ trợ nó đầy đủ. Vào thời điểm này, chúng ta vẫn chưa thể tin tưởng để sử dụng hết những tính năng mới của nó được. Tuy nhiên, hy vọng trong tương lai gần chúng ta sẽ sớm tiếp cận với nó.</p> <p>Một tính năng rất quan trọng mà ES2015 mô tả đó là cú pháp module. Chúng ta có thể code module login theo mô tả của ES2015 như sau:</p> <div class=codehilite><pre><span></span><span class=kr>export</span> <span class=kd>function</span> <span class=nx>login</span><span class=p>(</span><span class=nx>userNameValue</span><span class=p>,</span> <span class=nx>userPasswordValue</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>return</span> <span class=nx>userNameValue</span> <span class=o>+</span> <span class=s2>&quot;_&quot;</span> <span class=o>+</span> <span class=nx>userNameValue</span><span class=p>;</span>
<span class=p>}</span>
</pre></div> <p>Từ khóa <code>export</code> chỉ định hàm hoặc đối tượng sẽ được trích xuất là một module. Module này có thể được sử dụng ở bất kỳ code JavaScript nào khác. Ví dụ như chúng ta dùng module <code>main</code> như dưới đây:</p> <div class=codehilite><pre><span></span><span class=kr>import</span> <span class=p>{</span><span class=nx>login</span><span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;./login&#39;</span>
<span class=kd>var</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>login</span><span class=p>(</span><span class=s2>&quot;admin&quot;</span><span class=p>,</span> <span class=s2>&quot;password&quot;</span><span class=p>);</span>
</pre></div> <p>Với từ khóa <code>import</code> chúng ta gán hàm <code>login()</code> với module <code>login</code>. Việc chia module như vậy rất hay, hy vọng chúng ta sẽ sớm được sử dụng nó một cách rộng rãi.</p> <h1 id=requirejs>RequireJS<a class=headerlink href=#requirejs title="Permanent link">&para;</a></h1> <p>Theo định nghĩa trên <a href=http://requirejs.org/ >trang chủ</a> thì</p> <blockquote> <p>RequireJS là một file JavaScript và một module loader. Nó được tối ưu hóa cho môi trường trình duyệt nhưng cũng có thể sử dụng trong các môi trường JavaScript khác, như Rhino hoặc Node. Sử dụng các module loader như RequireJS sẽ giúp tăng tốc độ và chất lượng code của bạn.</p> </blockquote> <p>Tất nhiên, đây là một định nghĩa có hơi hướng quảng cáo. Chúng ta có thể hiểu đơn giản RequireJS là một thư viện cho phép chúng ta module hóa code JavaScript theo quy chuẩn của AMD.</p> <h2 id=download>Download<a class=headerlink href=#download title="Permanent link">&para;</a></h2> <p>Bạn có thể dễ dàng download RequireJS từ <a href=http://requirejs.org/docs/download.html>trang download</a> của họ. Có 2 phiên bản cho bạn lựa chọn: bản minified và bản thường. Bạn có thể download phiên bản nào mà bạn muốn. Theo tôi thì chúng ta nên download bản minified vì dung lượng nhỏ hơn, và chúng ta cũng không cần thiết phải thay đổi thư viện của họ.</p> <p>Ngoài thư viện <code>require.js</code> (vào thời điểm này phiên bản mới nhất là 2.2.0), thì RequireJS còn cung cấp một công cụ để tối ưu hóa code JavaScript là <code>r.js</code>, tuy nhiên, tạm thời chúng ta có thể bỏ qua nó.</p> <h2 id=cac-ham-cua-requirejs>Các hàm của RequireJS<a class=headerlink href=#cac-ham-cua-requirejs title="Permanent link">&para;</a></h2> <p>RequireJS cung cấp hai hàm tương tứng với hai hàm trong API của AMD đó là <code>define</code> và <code>requirejs</code>. Thực ra, những phiên bản trước đây hàm <code>requirejs</code> có tên là <code>require</code> (giống với API), nhưng nó đã được đổi tên trong các phiên bản gần đây.</p> <p>Chúng ta sẽ tìm hiểu cụ thể về những hàm này thông qua ví dụ ở phần tiếp theo.</p> <h1 id=su-dung-requirejs-e-module-hoa>Sử dụng RequireJS để module hóa<a class=headerlink href=#su-dung-requirejs-e-module-hoa title="Permanent link">&para;</a></h1> <p>Với những hiểu biết cơ bản về AMD và RequireJS, bây giờ, chúng ta sẽ thực hành sử dụng chúng trong một ví dụ thực tế.</p> <p>Giải thích qua một chút về cấu trúc thư mục và các module cần thiết. Trước hết, đây là một ví dụ nên tôi tạm sử dụng một file HTML tĩnh. Trong trang HTML này, tôi có design một navbar và với hy vọng nó hoạt động được cho cả desktop và smartphone, tôi sẽ dùng JavaScript để xử lý collapse nó khi hiển thị trên điện thoại.</p> <p>Ngoài ra, tôi muốn có thể một nút "Back to top" nổi ở khu vực cuối màn hình khi người dùng cuộn trang. Tuy nhiên, nút này không phải lúc nào cũng hiển thị, tôi muốn nó chỉ được hiển thị khi trang dài hơn 2 lần độ cao của màn hình mà thôi. Ví dụ này tôi thấy khá thực tế, chúng ta thường load JavaScript giống nhau cho tất cả các trang nhưng có những thành phần chỉ chạy trên một vài trang mà thôi.</p> <p>Với 2 yêu cầu trên, tôi sẽ viết 2 module JavaScript, và tổ chức cấu trúc thư mục như sau:</p> <div class=codehilite><pre><span></span>project-directory
├── index.html
└── assets
    ├── images
    ├── js
    │   ├── lib
    │   │   └── require.js
    │   ├── mobile-menu.js
    │   ├── scroll-top.js
    │   └── main.js
    └── css
</pre></div> <p>Ở đây, chúng ta tổ chức như sau:</p> <ul> <li>Tất cả các module đều được viết ở thư mục <code>assets/js</code>. Bạn có thể đưa chúng vào thư mục con (<code>modules</code>) chẳng hạn cho dễ quản lý.</li> <li>Các thư viện JavaScript sẽ lưu trong thư mục <code>assets/js/lib</code>. Ở đây chúng ta lưu thư viện <code>require.js</code>. Ngoài ra, tôi sẽ sử dụng cả jQuery nhưng từ CDN nên không cần lưu vào đây.</li> <li>Module chính của ứng dụng là <code>assets/js/main.js</code>.</li> </ul> <p>Với việc sử dụng RequirejS và module hóa, chúng ta chỉ cần load JavaScript trong file HTML đơn giản như sau:</p> <div class=codehilite><pre><span></span><span class=cp>&lt;!DOCTYPE html&gt;</span>
<span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
    <span class=c>&lt;!-- content omitted --&gt;</span>
<span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
  <span class=c>&lt;!-- page body --&gt;</span>
  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;assets/js/lib/require.js&quot;</span>
          <span class=na>data-main</span><span class=o>=</span><span class=s>&quot;assets/js/main.js&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</pre></div> <p>Việc load JavaScritp có thể hiểu như sau:</p> <ul> <li>Khi thư việc RequireJS được load xong, nó sẽ tìm kiếm thuộc tính <code>data-main</code>, trong trường hợp của chúng ta đó là <code>assets/js/main.js</code>. RequireJS sẽ load file JavaScript trên một cách không đồng bộ, và file này trở thành entry point của ứng dụng của chúng ta.</li> </ul> <h2 id=ben-trong-file-mainjs>Bên trong file <code>main.js</code><a class=headerlink href=#ben-trong-file-mainjs title="Permanent link">&para;</a></h2> <p>RequireJS sử dụng một đối tượng để cấu hình các module và thành phần phụ thuộc cần phải được quản lý bởi framework. Có nhiều cách để <a href=https://github.com/requirejs/requirejs/wiki/Patterns-for-separating-config-from-the-main-module>tách biệt config và ứng dụng</a>, tuy nhiên chúng ta có thể viết cấu hình này ngay trong file <code>main.js</code> như sau:</p> <div class=codehilite><pre><span></span><span class=nx>requirejs</span><span class=p>.</span><span class=nx>config</span><span class=p>({</span>
    <span class=nx>paths</span><span class=o>:</span> <span class=p>{</span>
        <span class=s1>&#39;jquery&#39;</span><span class=o>:</span> <span class=s1>&#39;https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min&#39;</span><span class=p>,</span>
        <span class=s1>&#39;mobile-menu&#39;</span><span class=o>:</span> <span class=s1>&#39;./mobile-menu&#39;</span><span class=p>,</span>
        <span class=s1>&#39;scroll-top&#39;</span><span class=o>:</span> <span class=s1>&#39;./scroll-top&#39;</span>
    <span class=p>}</span>
<span class=p>});</span>
</pre></div> <p>Ở trên, chúng ta cấu hình đường dẫn của các module. Ví dụ của chúng ta còn khá đơn giản nên chưa có nhiều thành phần phụ thuộc. Với những ứng dụng phức tạp hơn, chúng ta cần thêm config <a href=http://requirejs.org/docs/api.html#config-shim>shim</a>. Ví dụ chúng ta muốn sử dụng <a href=https://github.com/protonet/jquery.inview>jQuery.inview</a> (phụ thuộc vào jQuery) thì chúng cần cấu hình shim như thế này:</p> <div class=codehilite><pre><span></span><span class=nx>requirejs</span><span class=p>.</span><span class=nx>config</span><span class=p>({</span>
    <span class=nx>shim</span><span class=o>:</span> <span class=p>{</span>
        <span class=s1>&#39;jquery&#39;</span><span class=o>:</span> <span class=p>[],</span>
        <span class=s1>&#39;jquery.inview&#39;</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;jquery&#39;</span><span class=p>]</span>
    <span class=p>},</span>
    <span class=p>...</span>
<span class=p>});</span>
</pre></div> <p>Sau khi cấu hình đường dẫn rồi, chúng ta cần load các module này. Việc load module thực ra không khó. Chúng ta có thể dễ dàng load các module mà chúng ta cần.</p> <div class=codehilite><pre><span></span><span class=c1>// mobile-menu cần load cho tất cả các trang</span>
<span class=kd>var</span> <span class=nx>mods</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;mobile-menu&#39;</span><span class=p>];</span>

<span class=kd>function</span> <span class=nx>getPageHeight</span><span class=p>()</span> <span class=p>{</span>
    <span class=c1>// hàm lấy độ cao thực của trang</span>
    <span class=kd>var</span> <span class=nx>body</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>;</span>
    <span class=kd>var</span> <span class=nx>html</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>;</span>

    <span class=k>return</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>max</span><span class=p>(</span><span class=nx>body</span><span class=p>.</span><span class=nx>scrollHeight</span><span class=p>,</span> <span class=nx>body</span><span class=p>.</span><span class=nx>offsetHeight</span><span class=p>,</span>
                    <span class=nx>html</span><span class=p>.</span><span class=nx>clientHeight</span><span class=p>,</span> <span class=nx>html</span><span class=p>.</span><span class=nx>scrollHeight</span><span class=p>,</span> <span class=nx>html</span><span class=p>.</span><span class=nx>offsetHeight</span><span class=p>);</span>
<span class=p>}</span>

<span class=k>if</span> <span class=p>(</span><span class=nx>getPageHeight</span><span class=p>()</span> <span class=o>&gt;</span> <span class=nb>window</span><span class=p>.</span><span class=nx>innerHeight</span> <span class=o>*</span> <span class=mi>2</span><span class=p>)</span> <span class=p>{</span>
    <span class=c1>// chỉ load scroll-top cho trang có độ cao đủ lớn</span>
    <span class=nx>mods</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=s1>&#39;scroll-top&#39;</span><span class=p>);</span>
<span class=p>}</span>

<span class=nx>requirejs</span><span class=p>(</span><span class=nx>mods</span><span class=p>);</span>
</pre></div> <h2 id=viet-cac-module>Viết các module<a class=headerlink href=#viet-cac-module title="Permanent link">&para;</a></h2> <p>File <code>main.js</code> chỉ đơn giản là cấu hình và load các module cần thiết. Công việc còn lại của chúng ta là code cho các module này.</p> <p>Module <code>mobile-menu</code> sẽ như sau (tôi đang học ES2015 nên code này muốn chạy được phải transpile về ES5):</p> <div class=codehilite><pre><span></span><span class=nx>define</span><span class=p>([</span><span class=s1>&#39;jquery&#39;</span><span class=p>],</span> <span class=kd>function</span><span class=p>(</span><span class=nx>$</span><span class=p>)</span> <span class=p>{</span>
    <span class=kr>class</span> <span class=nx>MobileMenuExport</span> <span class=p>{</span>
        <span class=nx>constructor</span><span class=p>(</span><span class=nx>menu</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>menu</span> <span class=o>=</span> <span class=nx>$</span><span class=p>(</span><span class=nx>menu</span><span class=p>);</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>init</span><span class=p>();</span>
        <span class=p>}</span>

        <span class=nx>init</span><span class=p>()</span> <span class=p>{</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>menu</span><span class=p>.</span><span class=nx>addClass</span><span class=p>(</span><span class=s1>&#39;mobile-navigation&#39;</span><span class=p>);</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>button</span> <span class=o>=</span> <span class=nx>$</span><span class=p>(</span><span class=s1>&#39;&lt;div class=&quot;navigation-button&quot;&gt;&lt;a href=&quot;#&quot;&gt;&lt;i class=&quot;fa fa-bars&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/div&gt;&#39;</span><span class=p>);</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>button</span><span class=p>.</span><span class=nx>insertBefore</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>menu</span><span class=p>.</span><span class=nx>parent</span><span class=p>());</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>button</span><span class=p>.</span><span class=nx>children</span><span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>).</span><span class=nx>on</span><span class=p>(</span> <span class=s1>&#39;click&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
                <span class=nx>event</span><span class=p>.</span><span class=nx>preventDefault</span><span class=p>();</span>
                <span class=k>this</span><span class=p>.</span><span class=nx>menu</span><span class=p>.</span><span class=nx>toggleClass</span><span class=p>(</span><span class=s1>&#39;active&#39;</span><span class=p>);</span>
                <span class=k>this</span><span class=p>.</span><span class=nx>button</span><span class=p>.</span><span class=nx>toggleClass</span><span class=p>(</span><span class=s1>&#39;active&#39;</span><span class=p>);</span>
            <span class=p>});</span>
        <span class=p>}</span>
    <span class=p>}</span>

    <span class=k>return</span> <span class=k>new</span> <span class=nx>MobileMenuExport</span><span class=p>(</span><span class=s1>&#39;header .navigation&#39;</span><span class=p>);</span>
<span class=p>});</span>
</pre></div> <p>Và module <code>scroll-top</code> sẽ như sau:</p> <div class=codehilite><pre><span></span><span class=nx>define</span><span class=p>([</span><span class=s1>&#39;jquery&#39;</span><span class=p>],</span> <span class=kd>function</span><span class=p>(</span><span class=nx>$</span><span class=p>)</span> <span class=p>{</span>
    <span class=kr>class</span> <span class=nx>ScrollTopExport</span><span class=p>{</span>
        <span class=nx>constructor</span><span class=p>(</span><span class=nb>window</span><span class=p>,</span> <span class=nx>body</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>body</span> <span class=o>=</span> <span class=nx>$</span><span class=p>(</span><span class=nx>body</span><span class=p>);</span>
            <span class=k>this</span><span class=p>.</span><span class=nb>window</span> <span class=o>=</span> <span class=nx>$</span><span class=p>(</span><span class=nb>window</span><span class=p>);</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>offset</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nb>window</span><span class=p>.</span><span class=nx>height</span><span class=p>()</span> <span class=o>*</span> <span class=mf>0.75</span><span class=p>;</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>init</span><span class=p>();</span>
        <span class=p>}</span>

        <span class=nx>init</span><span class=p>()</span> <span class=p>{</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>button</span> <span class=o>=</span> <span class=nx>$</span><span class=p>(</span><span class=s1>&#39;&lt;a href=&quot;#top&quot; class=&quot;back-to-top&quot;&gt;&lt;i class=&quot;fa fa-chevron-up&quot;&gt;&lt;/i&gt;&lt;/a&gt;&#39;</span><span class=p>);</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>append</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>button</span><span class=p>);</span>

            <span class=k>this</span><span class=p>.</span><span class=nb>window</span><span class=p>.</span><span class=nx>scroll</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
                <span class=k>if</span> <span class=p>(</span><span class=nx>$</span><span class=p>(</span><span class=nb>window</span><span class=p>).</span><span class=nx>scrollTop</span><span class=p>()</span> <span class=o>&gt;</span> <span class=k>this</span><span class=p>.</span><span class=nx>offset</span><span class=p>)</span> <span class=p>{</span>
                    <span class=k>this</span><span class=p>.</span><span class=nx>button</span><span class=p>.</span><span class=nx>fadeIn</span><span class=p>(</span><span class=s1>&#39;medium&#39;</span><span class=p>);</span>
                <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                    <span class=k>this</span><span class=p>.</span><span class=nx>button</span><span class=p>.</span><span class=nx>fadeOut</span><span class=p>(</span><span class=s1>&#39;medium&#39;</span><span class=p>);</span>
                <span class=p>}</span>
            <span class=p>});</span>
        <span class=p>}</span>
    <span class=p>}</span>

    <span class=k>return</span> <span class=k>new</span> <span class=nx>ScrollTopExport</span><span class=p>(</span><span class=nb>window</span><span class=p>,</span> <span class=s1>&#39;body&#39;</span><span class=p>);</span>
<span class=p>});</span>
</pre></div> <p>Về cơ bản, việc định nghĩa module giống với hàm <code>define</code> của AMD API.</p> <ul> <li>Tham số đầu tiên của hàm <code>define</code> là chuỗi các thành phần phụ thuộc, trong ví dụ của chúng ta là jQuery.</li> <li>Ở đây chúng ta đã load các module theo yêu cầu từ <code>main.js</code> rồi, nên code của chúng ta khá đơn giản. Thực ra chúng ta còn có thể có những xử lý phức tạp hơn nhiều: kiểm tra module đã được load chưa, load module theo event của JavaScript.</li> </ul> <p>Như vậy, chúng ta đã có 2 module hoạt động rất tốt. Khi cần thêm tính năng gì, chúng ta chỉ cần thêm module và load chúng nữa là xong. Một lưu ý nhỏ là các module này phụ thuộc rất lớn vào cấu trúc DOM và CSS, tuy nhiên, đây không phải là nội dung chính của bài viết này nên tôi không đề cập ở đây.</p> <h1 id=summary>Summary<a class=headerlink href=#summary title="Permanent link">&para;</a></h1> <p>Kích thước của ứng dụng sẽ ngày càng lớn theo thời gian, không sớm thì muộn, bạn sẽ cần đến các phương thức khác nhau để module hóa ứng dụng. Tất nhiên, bạn bắt tay vào việc này càng sớm càng tốt.</p> <p>Ở bài viết này, chúng ta đã tìm hiểu một phương pháp module hóa ứng dụng sử dụng RequireJS và AMD. Hy vọng bài viết giúp ích cho bạn, và bạn có thêm một lựa chọn nữa khi cần module hóa JavaScript.</p> <p>Cuối cùng, bạn có thể xem qua <a href=https://manhhomienbienthuy.github.io/mockup/ >demo của tôi</a> với ví dụ trong bài.</p> </div> <div class=post-footer> <div class=tags> <i class="fa fa-tags"></i> <span>#Javascript</span> <span>#RequireJS</span> <span>#modularize</span> </div> </div> </div><div class=blog-pager> <span class=newer-link> <a href=/2016/Jul/04/cryptography-untwisting-mersenne-twister.html> Newer Post </a> </span> <span class=older-link> <a href=/2016/Apr/10/using-docker-and-docker-compose-for-django-development.html> Older Post </a> </span> </div><div class=comments> <div class=finally> <p><em>I apologise for any typos. If you notice a problem, please let me know.</em> <p>Thank you all for your attention. </div> <div id=disqus_thread></div> <script src=/theme/js/disqus.min.js?81e8a5f5></script> <noscript> Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript> comments powered by Disqus. </a> </noscript> </div></div> </div> </div> <div class=sidebar-wrapper> <div class=widget> <h2>Welcome</h2> <div> <img src=/theme/images/banner.gif alt=Welcome> </div> </div><div class="widget recent-posts"> <h2>Recent Posts</h2> <ul> <li> <a href=/2019/May/20/elasticsearch-data-organization.html> <img alt="Elasticsearch: Data organization" src=https://i.imgur.com/JT4y7Qf.jpg> </a> <a href=/2019/May/20/elasticsearch-data-organization.html>Elasticsearch: Data organization</a> <li> <a href=/2019/May/20/elasticsearch-intro.html> <img alt="Elasticsearch: Intro" src=https://i.imgur.com/JT4y7Qf.jpg> </a> <a href=/2019/May/20/elasticsearch-intro.html>Elasticsearch: Intro</a> <li> <a href=/2019/Apr/20/javascript-popups.html> <img alt="JavaScript: Popups" src=https://i.imgur.com/FxmcwPy.png> </a> <a href=/2019/Apr/20/javascript-popups.html>JavaScript: Popups</a> <li> <a href=/2019/Mar/20/javascript-iterator-and-generator.html> <img alt="JavaScript: Iterator and generator" src=https://i.imgur.com/lev8iT9.jpg> </a> <a href=/2019/Mar/20/javascript-iterator-and-generator.html>JavaScript: Iterator and generator</a> <li> <a href=/2019/Feb/20/javascript-decorator.html> <img alt="JavaScript decorator" src=https://i.imgur.com/Sh3yLI0.png> </a> <a href=/2019/Feb/20/javascript-decorator.html>JavaScript decorator</a> </ul> </div><div class="widget labels"> <h2>Blog Archive</h2> <ul> <li> <a href=/2019/ > 2019 </a> <li> <a href=/2018/ > 2018 </a> <li> <a href=/2017/ > 2017 </a> <li> <a href=/2016/ > 2016 </a> <li> <a href=/2015/ > 2015 </a> <li> <a href=/2014/ > 2014 </a> <li> <a href=/2013/ > 2013 </a> <li> <a href=/2012/ > 2012 </a> <li> <a href=/2011/ > 2011 </a> <li> <a href=/2010/ > 2010 </a> </ul> </div><div class=widget> <h2>Twitter timeline</h2> <a class=twitter-timeline data-height=500 data-dnt=true data-theme=light href=https://twitter.com/_naa_4f data-chrome="noheader nofooter transparent noborders"> Tweets by manhhomienbienthuy </a> </div> </div> </div> <a href=# class="smooth-scroll back-to-top"> <i class="fa fa-arrow-circle-up fa-3x"></i> </a> </main> <footer> <div class=infos> <div class=wrapper> <div class=widget> <a href=/ title="manhhomienbienthuy's space" class=logo> <img alt="manhhomienbienthuy's space" src=/theme/images/logo_white.png> </a> <span class=right>I'm a hacker, enter my world...</span> </div><div class=widget> <p> Created with all my ♥ and soul, dedicated to my love, yunachan <p> Powered by <a href=http://blog.getpelican.com/ target=_blank>Pelican</a>, which takes great advantage of <a href=https://www.python.org/ target=_blank>Python</a> <p> This site content is licensed under a <a href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank> CC BY-NC-ND 4.0 </a> License. <p> Updated at <a target=_blank href="http://www.timeanddate.com/worldclock/fixedtime.html?iso=2019-06-20T02:42:55"> 2019-06-20 02:42:55 </a> </div><div class=widget> <p> Hosting by <a href=https://manhhomienbienthuy.bitbucket.io/ >Bitbucket</a> and <a href=https://manhhomienbienthuy.github.io/ >Github</a>, image hosting by <a href=https://manhhomienbienthuy.imgur.com/ target=_blank>imgur</a>, <a href=https://instagram.com/manhhomienbienthuy/ target=_blank>Instagram</a> and <a href=https://photos.google.com/ target=_blank>Google Photo</a> <p> Theme based on <a href=https://vanice-veethemes.blogspot.com/ target=_blank>Vanice theme</a>, icons from <a href=https://fontawesome.com/ target=_blank>Font Awesome</a>, comments powered by <a href=https://disqus.com/home/forums/manhhomienbienthuy/ target=_blank>Disqus</a> </div> </div> </div> <div class=credits> <div class=wrapper> <div class=left> <!--
          Regarding copyright, in general, standalone pages (as
          opposed to files generated as part of manuals) on the GNU
          web server should be under CC BY-ND 4.0.  Please do NOT
          change or remove this without talking with the webmasters or
          licensing team first.  Please make sure the copyright date
          is consistent with the document.  For web pages, it is ok to
          list just the latest year the document was modified, or
          published.

          If you wish to list earlier years, that is ok too.  Either
          "2001, 2002, 2003" or "2001-2003" are ok for specifying
          years, as long as each year in the range is in fact a
          copyrightable year, i.e., a year in which the document was
          published (including being publicly visible on the web or in
          a revision control system).
        --> Copyright © 2010-2019 <a href=/pages/about-me.html><strong>manhhomienbienthuy</strong></a>. All rights reserved. </div> <div class=right> <ul> <li><a href=/ >Home</a> <li><a href=/pages/about-me.html>About</a> <li><a href=# class=smooth-scroll>Top ↑</a> </ul> </div> </div> </div></footer> <script src=https://code.jquery.com/jquery-3.2.1.js></script> <script src=//cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js></script> <script src=//cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.2/imagesloaded.pkgd.min.js></script> <script src=/theme/js/vpyeu.min.js?d72c87bd></script> <script id=dsq-count-scr src=https://manhhomienbienthuy.disqus.com/count.js async></script>