<!DOCTYPE html><title>How git rebase works? - manhhomienbienthuy's space</title> <meta charset=utf-8> <meta name=viewport content="width=device-width, initial-scale=1"> <link rel=apple-touch-icon href=/theme/images/icon-touch.png> <link rel=icon sizes=192x192 href=/theme/images/icon-touch.png> <link rel="shortcut icon" href=/theme/images/favicon.ico> <link rel=author href=/humans.txt> <meta name=msapplication-TileImage content=/theme/images/icon-tile.png> <meta name=twitter:dnt content=on> <meta name=Author content=manhhomienbienthuy> <meta name=rating content=general> <meta name=twitter:card content=product> <meta name=twitter:site content=@_naa_4f> <meta name=twitter:creator content=@_naa_4f> <link href=/feeds/all.atom.xml type=application/atom+xml rel=alternate title="manhhomienbienthuy's space Full Atom Feed"> <meta name=description content="git rebase là một trong số những lệnh của git tôi sử dụng rất nhiều. Là lập trình viên làm việc với git, chắc hẳn bạn cũng không lạ lẫm gì lệnh này. Chúng ta thường sử dụng git rebase cho vì những lý do sau: Giữ code trong branch …"> <meta name=keywords content="git, git rebase, version control, blog, naa, manhhomienbienthuy, pelican, static site generator"> <meta name=twitter:title content="How git rebase works? - manhhomienbienthuy's space"> <meta name=twitter:description content="git rebase là một trong số những lệnh của git tôi sử dụng rất nhiều. Là lập trình viên làm việc với git, chắc hẳn bạn cũng không lạ lẫm gì lệnh này. Chúng ta thường sử dụng git rebase cho vì những lý do sau: Giữ code trong branch …"> <meta name=twitter:image content=/https://i.imgur.com/mVShEOi.png> <link rel=stylesheet href=//cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css> <link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.0.0/css/font-awesome.min.css> <link rel=stylesheet href=/theme/css/vpyeu.min.css?5d2c7d5e> <header> <div class=navbar> <div class=wrapper> <div class=nav-menu> <div class=menu-toggle> <i class="fa fa-reorder"></i> </div> <ul class=menus> <li><a href=/ >Home</a> <li><a href=/category/general.html class=current> General <li><a href=/category/life.html> Life <li><a href=/category/programming.html> Programming <li><a href=/category/travel.html> Travel </ul> </div><div class="right links"> <ul> <li> <a href=https://twitter.com/_naa_4f target=_blank> <i class="fa fa-twitter"></i> </a> <li> <a href=https://instagram.com/manhhomienbienthuy/ target=_blank> <i class="fa fa-instagram"></i> </a> <li> <a href=https://www.facebook.com/manhhomienbienthuy target=_blank> <i class="fa fa-facebook"></i> </a> <li> <a href=https://github.com/manhhomienbienthuy target=_blank> <i class="fa fa-github"></i> </a> <li> <a href=/feeds/all.atom.xml target=_blank> <i class="fa fa-rss"></i> </a> </ul> </div> </div> </div><noscript> <div class="warning head-warn"> <div class=wrapper> <p><strong>Notice:</strong> While JavaScript is not essential for this website, your interaction with the content will be limited. Please turn JavaScript on for the full experience. </div> </div> </noscript><div class=banner> <div class=wrapper> <a href=/ > <img alt="manhhomienbienthuy's space" src=/theme/images/logo.png> </a> </div> </div></header> <main> <div class=wrapper> <div class=main-wrapper> <div class=entry> <div class=entry-detail> <div class=post> <h1 class=title> How git rebase works? </h1> <div class=meta> Posted in <a href=/category/general.html>General</a> on April 21, 2017 by <a href=/pages/about-me.html>manhhomienbienthuy</a> <span class=right> <i class="fa fa-comments"></i> <a href=#disqus_thread data-disqus-identifier=/2017/Apr/21/how-git-rebase-works.html> Comments </a> </span> </div> <div class=post-body> <img src=https://i.imgur.com/mVShEOi.png alt="How git rebase works?"> <p><a href=https://git-scm.com/docs/git-rebase><code>git rebase</code></a> là một trong số những lệnh của git tôi sử dụng rất nhiều. Là lập trình viên làm việc với git, chắc hẳn bạn cũng không lạ lẫm gì lệnh này. Chúng ta thường sử dụng <code>git rebase</code> cho vì những lý do sau:</p> <ul> <li>Giữ code trong branch của chúng ta luôn update</li> <li>Thay đổi một vài commit nào đó</li> </ul> <p>Trong bài viết này, chúng ta sẽ đi sâu tìm hiểu cách thức git rebase làm việc để cho chúng ta những kết quả như trên.</p> <h1 id=giu-branch-luon-update>Giữ branch luôn update<a class=headerlink href=#giu-branch-luon-update title="Permanent link">&para;</a></h1> <p>Đây là công việc chúng ta thường gặp phải nhất khi làm việc với git. Đặc biệt, team càng lớn, việc này càng diễn ra thường xuyên.</p> <p>Nguyên nhân rất đơn giản, khi bạn checkout một nhánh mới là làm việc trong nhánh đó, các thành viên khác cũng tiếp tục phát triển trong nhánh của họ. Khi một ai đó gửi pull request và được merge vào nhánh chính, khi đó, nhánh mà bạn đã checkout đã outdate do thiếu những code vừa được merge.</p> <p>Công việc bạn cần làm lúc nào là cập nhật nhánh của mình. Thực ra có 2 cách để làm việc này là <a href=https://git-scm.com/docs/git-merge><code>git merge</code></a> và <code>git rebase</code>. Tuy nhiên, tôi sử dụng <code>git rebase</code> vì nhiều lợi ích mà nó mang lại.</p> <p>Trước hết, hãy xem <code>git rebase</code> sẽ làm gì trong trường hợp này. Đây là minh họa đơn giản cho trường hợp chúng ta cần update nhánh màu đỏ với nhánh chính đã được merge thêm code mới.</p> <p><img alt="rebase before" src=https://i.imgur.com/vozAn6X.png></p> <p>Nhánh của chúng ta đang thiếu một số commit so với nhánh chính, bây giờ chúng ta sẽ gọi <code>git rebase</code> để cập nhật code. Đầu tiên, <code>git rebase</code> sẽ quay ngược trở lại commit mà tại đó, nhánh của chúng ta được checkout.</p> <p><img alt="rebase rewind" src=https://i.imgur.com/ka2jLJq.png></p> <p>Tại commit này, <code>git rebase</code> sẽ thêm các commit của nhánh chính. Lúc này, code của nhánh chính sẽ được thêm vào nhánh của chúng ta.</p> <p><img alt="rebase forward" src=https://i.imgur.com/eoPoX6a.png></p> <p>Tiếp theo, các commit mà chúng ta đã thực hiện trên nhánh của mình sẽ được thêm vào code vừa rồi</p> <p><img alt="rebase replay" src=https://i.imgur.com/MtneGvi.png></p> <p>Kết thúc quá trình này, chúng ta sẽ có nhánh được update và commit chúng ta luôn luôn là commit cuối cùng.</p> <p><img alt="rebase complete" src=https://i.imgur.com/L5ECmMI.png></p> <p>Đây chính là một trong số những điểm nổi biệt khiến <code>git rebase</code> có vẻ thích hợp hơn <code>git merge</code> trong trường hợp này.</p> <h1 id=thay-oi-mot-so-commit-co-san>Thay đổi một số commit có sẵn<a class=headerlink href=#thay-oi-mot-so-commit-co-san title="Permanent link">&para;</a></h1> <p>Ngoài trường hợp phổ biến trên, thỉnh thoảng tôi cũng sử dụng <code>git rebase</code> để thay đổi một vài commit có sẵn.</p> <p>Thường thì việc này diễn ra khi commit hơi quá đà và trước khi gửi pull request tôi muốn gom các commit lại cho dễ merge sau này.</p> <p>Để làm việc đó, tôi sử dụng <code>git rebase -i</code>, tùy chọn <code>-i</code> nghĩa là "interactive", nhờ nó, <code>git rebase</code> cho phép chúng ta biên tập lại những commit đang có.</p> <p>Kết quả của lệnh trên là một editor được mở ra và mọi thứ trông khá giống lệnh <code>git log --oneline</code>, ngoại trừ một điều, đầu mỗi dòng là một lệnh mà chúng ta có thể thao tác để biên tập các commit.</p> <p><img alt="rebase interactive" src=https://i.imgur.com/7ounc1p.png></p> <p>Tôi thường sử dụng <code>squash</code> để gom nhiều commit lại, đồng thời chỉnh sửa nộ dung commit luôn. Ngoài ra <code>fixup</code> cũng thường được dùng.</p> <p>Khi lưu và thoát khỏi editor, <code>git rebase -i</code> cũng thực hiện một quá trình tương tự như quá trình "tua lại" rồi "chạy tiếp" tương tự như <code>git rebase</code> ở trên.</p> <h1 id=luu-y>Lưu ý<a class=headerlink href=#luu-y title="Permanent link">&para;</a></h1> <p>Trong phần lớn các trường hợp, <code>git rebase</code> sẽ sinh ra conflict, mặc dù những chỗ chỉnh sửa chẳng liên quan gì đến nhau.</p> <p>Một điểm cần lưu ý nữa là việc rebase sẽ làm thay đổi hash của commit, do đó, cho dù nội dung commit không thay đổi, lịch sử commit đã thay đổi rồi. Bạn cần sử dụng <code>git push -f</code> để update code này lên các server như github hoặc bitbucket.</p> <p>Việc thay đổi hash này khá nghiêm trọng nếu chẳng may bạn thực hiện trên nhánh chính, nơi là các thành viên khác trong team cũng đang làm việc với nó.</p> <h1 id=ket-luan>Kết luận<a class=headerlink href=#ket-luan title="Permanent link">&para;</a></h1> <p><code>git rebase</code> là một cách thực đơn giản để update nội dung branch cũng như thay đổi các commit. Sử dụng <code>git rebase</code> giúp lịch sử commit trở nên đơn giản nhưng nội dung thay đổi từ commit ban đầu sẽ bị thay đổi.</p> </div> <div class=post-footer> <div class=tags> <i class="fa fa-tags"></i> <span>#git</span> <span>#git rebase</span> <span>#version control</span> </div> </div> </div><div class=blog-pager> <span class=newer-link> <a href=/2017/May/02/algorithm-sprague-grundy-theorem.html> Newer Post </a> </span> <span class=older-link> <a href=/2017/Apr/04/hue-travel.html> Older Post </a> </span> </div><div class=comments> <div class=finally> <p><em>I apologise for any typos. If you notice a problem, please let me know.</em> <p>Thank you all for your attention. </div> <div id=disqus_thread></div> <script src=/theme/js/disqus.min.js?81e8a5f5></script> <noscript> Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript> comments powered by Disqus. </a> </noscript> </div></div> </div> </div> <div class=sidebar-wrapper> <div class=widget> <h2>Welcome</h2> <div> <img src=/theme/images/banner.gif alt=Welcome> </div> </div><div class="widget recent-posts"> <h2>Recent Posts</h2> <ul> <li> <a href=/2019/May/20/elasticsearch-data-organization.html> <img alt="Elasticsearch: Data organization" src=https://i.imgur.com/JT4y7Qf.jpg> </a> <a href=/2019/May/20/elasticsearch-data-organization.html>Elasticsearch: Data organization</a> <li> <a href=/2019/May/20/elasticsearch-intro.html> <img alt="Elasticsearch: Intro" src=https://i.imgur.com/JT4y7Qf.jpg> </a> <a href=/2019/May/20/elasticsearch-intro.html>Elasticsearch: Intro</a> <li> <a href=/2019/Apr/20/javascript-popups.html> <img alt="JavaScript: Popups" src=https://i.imgur.com/FxmcwPy.png> </a> <a href=/2019/Apr/20/javascript-popups.html>JavaScript: Popups</a> <li> <a href=/2019/Mar/20/javascript-iterator-and-generator.html> <img alt="JavaScript: Iterator and generator" src=https://i.imgur.com/lev8iT9.jpg> </a> <a href=/2019/Mar/20/javascript-iterator-and-generator.html>JavaScript: Iterator and generator</a> <li> <a href=/2019/Feb/20/javascript-decorator.html> <img alt="JavaScript decorator" src=https://i.imgur.com/Sh3yLI0.png> </a> <a href=/2019/Feb/20/javascript-decorator.html>JavaScript decorator</a> </ul> </div><div class="widget labels"> <h2>Blog Archive</h2> <ul> <li> <a href=/2019/ > 2019 </a> <li> <a href=/2018/ > 2018 </a> <li> <a href=/2017/ > 2017 </a> <li> <a href=/2016/ > 2016 </a> <li> <a href=/2015/ > 2015 </a> <li> <a href=/2014/ > 2014 </a> <li> <a href=/2013/ > 2013 </a> <li> <a href=/2012/ > 2012 </a> <li> <a href=/2011/ > 2011 </a> <li> <a href=/2010/ > 2010 </a> </ul> </div><div class=widget> <h2>Twitter timeline</h2> <a class=twitter-timeline data-height=500 data-dnt=true data-theme=light href=https://twitter.com/_naa_4f data-chrome="noheader nofooter transparent noborders"> Tweets by manhhomienbienthuy </a> </div> </div> </div> <a href=# class="smooth-scroll back-to-top"> <i class="fa fa-arrow-circle-up fa-3x"></i> </a> </main> <footer> <div class=infos> <div class=wrapper> <div class=widget> <a href=/ title="manhhomienbienthuy's space" class=logo> <img alt="manhhomienbienthuy's space" src=/theme/images/logo_white.png> </a> <span class=right>I'm a hacker, enter my world...</span> </div><div class=widget> <p> Created with all my ♥ and soul, dedicated to my love, yunachan <p> Powered by <a href=http://blog.getpelican.com/ target=_blank>Pelican</a>, which takes great advantage of <a href=https://www.python.org/ target=_blank>Python</a> <p> This site content is licensed under a <a href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank> CC BY-NC-ND 4.0 </a> License. <p> Updated at <a target=_blank href="http://www.timeanddate.com/worldclock/fixedtime.html?iso=2019-06-20T02:42:55"> 2019-06-20 02:42:55 </a> </div><div class=widget> <p> Hosting by <a href=https://manhhomienbienthuy.bitbucket.io/ >Bitbucket</a> and <a href=https://manhhomienbienthuy.github.io/ >Github</a>, image hosting by <a href=https://manhhomienbienthuy.imgur.com/ target=_blank>imgur</a>, <a href=https://instagram.com/manhhomienbienthuy/ target=_blank>Instagram</a> and <a href=https://photos.google.com/ target=_blank>Google Photo</a> <p> Theme based on <a href=https://vanice-veethemes.blogspot.com/ target=_blank>Vanice theme</a>, icons from <a href=https://fontawesome.com/ target=_blank>Font Awesome</a>, comments powered by <a href=https://disqus.com/home/forums/manhhomienbienthuy/ target=_blank>Disqus</a> </div> </div> </div> <div class=credits> <div class=wrapper> <div class=left> <!--
          Regarding copyright, in general, standalone pages (as
          opposed to files generated as part of manuals) on the GNU
          web server should be under CC BY-ND 4.0.  Please do NOT
          change or remove this without talking with the webmasters or
          licensing team first.  Please make sure the copyright date
          is consistent with the document.  For web pages, it is ok to
          list just the latest year the document was modified, or
          published.

          If you wish to list earlier years, that is ok too.  Either
          "2001, 2002, 2003" or "2001-2003" are ok for specifying
          years, as long as each year in the range is in fact a
          copyrightable year, i.e., a year in which the document was
          published (including being publicly visible on the web or in
          a revision control system).
        --> Copyright © 2010-2019 <a href=/pages/about-me.html><strong>manhhomienbienthuy</strong></a>. All rights reserved. </div> <div class=right> <ul> <li><a href=/ >Home</a> <li><a href=/pages/about-me.html>About</a> <li><a href=# class=smooth-scroll>Top ↑</a> </ul> </div> </div> </div></footer> <script src=https://code.jquery.com/jquery-3.2.1.js></script> <script src=//cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js></script> <script src=//cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.2/imagesloaded.pkgd.min.js></script> <script src=/theme/js/vpyeu.min.js?d72c87bd></script> <script id=dsq-count-scr src=https://manhhomienbienthuy.disqus.com/count.js async></script>