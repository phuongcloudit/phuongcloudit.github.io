<!DOCTYPE html><title>Web developer security checklist - manhhomienbienthuy's space</title> <meta charset=utf-8> <meta name=viewport content="width=device-width, initial-scale=1"> <link rel=apple-touch-icon href=/theme/images/icon-touch.png> <link rel=icon sizes=192x192 href=/theme/images/icon-touch.png> <link rel="shortcut icon" href=/theme/images/favicon.ico> <link rel=author href=/humans.txt> <meta name=msapplication-TileImage content=/theme/images/icon-tile.png> <meta name=twitter:dnt content=on> <meta name=Author content=manhhomienbienthuy> <meta name=rating content=general> <meta name=twitter:card content=product> <meta name=twitter:site content=@_naa_4f> <meta name=twitter:creator content=@_naa_4f> <link href=/feeds/all.atom.xml type=application/atom+xml rel=alternate title="manhhomienbienthuy's space Full Atom Feed"> <meta name=description content="Phát triển các ứng dụng web an toàn mà vẫn mạnh mẽ là một việc làm rất khó. Nếu bạn nghĩ nó rất dễ dàng, thì hoặc là bạn rất giỏi hoặc là bạn sắp gặp ác mộng. Danh sách dưới đây là một danh sách tổng hợp những gì …"> <meta name=keywords content="Web, Security, Vulnerabilities, blog, naa, manhhomienbienthuy, pelican, static site generator"> <meta name=twitter:title content="Web developer security checklist - manhhomienbienthuy's space"> <meta name=twitter:description content="Phát triển các ứng dụng web an toàn mà vẫn mạnh mẽ là một việc làm rất khó. Nếu bạn nghĩ nó rất dễ dàng, thì hoặc là bạn rất giỏi hoặc là bạn sắp gặp ác mộng. Danh sách dưới đây là một danh sách tổng hợp những gì …"> <meta name=twitter:image content=/https://i.imgur.com/4WYlyH5.jpg> <link rel=stylesheet href=//cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css> <link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.0.0/css/font-awesome.min.css> <link rel=stylesheet href=/theme/css/vpyeu.min.css?5d2c7d5e> <header> <div class=navbar> <div class=wrapper> <div class=nav-menu> <div class=menu-toggle> <i class="fa fa-reorder"></i> </div> <ul class=menus> <li><a href=/ >Home</a> <li><a href=/category/general.html class=current> General <li><a href=/category/life.html> Life <li><a href=/category/programming.html> Programming <li><a href=/category/travel.html> Travel </ul> </div><div class="right links"> <ul> <li> <a href=https://twitter.com/_naa_4f target=_blank> <i class="fa fa-twitter"></i> </a> <li> <a href=https://instagram.com/manhhomienbienthuy/ target=_blank> <i class="fa fa-instagram"></i> </a> <li> <a href=https://www.facebook.com/manhhomienbienthuy target=_blank> <i class="fa fa-facebook"></i> </a> <li> <a href=https://github.com/manhhomienbienthuy target=_blank> <i class="fa fa-github"></i> </a> <li> <a href=/feeds/all.atom.xml target=_blank> <i class="fa fa-rss"></i> </a> </ul> </div> </div> </div><noscript> <div class="warning head-warn"> <div class=wrapper> <p><strong>Notice:</strong> While JavaScript is not essential for this website, your interaction with the content will be limited. Please turn JavaScript on for the full experience. </div> </div> </noscript><div class=banner> <div class=wrapper> <a href=/ > <img alt="manhhomienbienthuy's space" src=/theme/images/logo.png> </a> </div> </div></header> <main> <div class=wrapper> <div class=main-wrapper> <div class=entry> <div class=entry-detail> <div class=post> <h1 class=title> Web developer security checklist </h1> <div class=meta> Posted in <a href=/category/general.html>General</a> on June 12, 2017 by <a href=/pages/about-me.html>manhhomienbienthuy</a> <span class=right> <i class="fa fa-comments"></i> <a href=#disqus_thread data-disqus-identifier=/2017/Jun/12/web-developer-security-checklist.html> Comments </a> </span> </div> <div class=post-body> <img src=https://i.imgur.com/4WYlyH5.jpg alt="Web developer security checklist"> <p>Phát triển các ứng dụng web an toàn mà vẫn mạnh mẽ là một việc làm rất khó. Nếu bạn nghĩ nó rất dễ dàng, thì hoặc là bạn rất giỏi hoặc là bạn sắp gặp ác mộng.</p> <p>Danh sách dưới đây là một danh sách tổng hợp những gì mà một người cần quan tâm khi bảo mật cho những ứng dụng của mình. Nếu bỏ qua điều gì, bạn nên dũng cảm mà cảnh báo người dùng rằng, ứng dụng của bạn vẫn chưa thực sự bảo mật.</p> <h1 id=co-so-du-lieu>Cơ sở dữ liệu<a class=headerlink href=#co-so-du-lieu title="Permanent link">&para;</a></h1> <ul> <li>Đã mã hóa hết tất cả dữ liệu dùng để xác nhận người dùng cùng với các dữ liệu "nhạy cảm" khác, ví dụ như access token, email, thông tin credit card, v.v...</li> <li>Nếu cơ sở dữ liệu hỗ trợ các phương pháp mã hóa dữ liệu dạng lưu trữ với chi phí thấp (ví dụ như <a href=https://aws.amazon.com/about-aws/whats-new/2015/12/amazon-aurora-now-supports-encryption-at-rest/ >AWS Aurora</a>), hãy sử dụng nó để bảo mật dữ liệu. Hãy đảm bảo rằng tất cả các bản sao lưu cũng đều được mã hóa.</li> <li>Hãy phân quyền cho người dùng và chỉ cấp cho họ quyền tối thiểu. Không bao giờ sử dụng tài khoản root cho cơ sở dữ liệu.</li> <li>Lưu trữ và phân phối các dữ liệu mật bằng các khóa riêng biệt. Đừng hard code khóa này (sử dụng biến môi trường là một giải pháp).</li> <li>Phòng trống SQL Inject một cách triệt để bằng việc sử dụng các câu SQL với tham số. Tuy nhiên, tốt nhất, hãy sử dụng ORM.</li> </ul> <h1 id=phat-trien>Phát triển<a class=headerlink href=#phat-trien title="Permanent link">&para;</a></h1> <ul> <li>Đảm bảo tất cả các thành phần của code đều được kiểm tra các lỗ hổng bảo mật trước khi public lên production (bao gồm cả các thư viện của bên thứ ba). Tốt nhất, hãy tự động hóa những thao tác này qua CI/CD.</li> <li>Bảo mật môi trường phát triển cũng như bạn bảo mật production. Hãy phát triển trong một môi trường biệt lập và bảo mật.</li> </ul> <h1 id=authentication>Authentication<a class=headerlink href=#authentication title="Permanent link">&para;</a></h1> <ul> <li>Đảm bảo password được hash bằng phương thức thích hợp (ví dụ bcrypt). Đừng tự viết phương thức mã hóa cho riêng mình và hãy sử dụng khóa càng ngẫu nhiên càng tốt.</li> <li>Đưa ra các quy tắc đơn giản nhưng đủ bảo mật cho password, sao cho người dùng đặt mật khẩu đủ dài (và ngẫu nhiên càng tốt)</li> <li>Sử dụng nhiều lớp xác thực</li> </ul> <h1 id=chong-tan-cong-dos>Chống tấn công DoS<a class=headerlink href=#chong-tan-cong-dos title="Permanent link">&para;</a></h1> <ul> <li>Đảm bảo rằng các cuộc tấn công DoS không làm sập trang web của bạn. Ít nhất, hãy giới hạn việc truy cập vào các API như login hoặc lấy token. Hãy sử dụng một số phương pháp như CAPTCHA để bảo vệ hệ thống.</li> <li>Đặt các giới hạn về kích thước và cấu trúc của dữ liệu được gửi lên từ người dùng.</li> <li>Sử dụng các công cụ giảm nhẹ tấn công <a href=https://en.wikipedia.org/wiki/Denial-of-service_attack>Distributed Denial of Service</a> (DDOS) như sử dụng các hệ thông cache <a href=https://www.cloudflare.com/ >CloudFlare</a>. Bạn có thể bật chúng nên khi bị tấn công và tắt đi cho các lưu thông bình thường.</li> </ul> <h1 id=truy-cap-web>Truy cập Web<a class=headerlink href=#truy-cap-web title="Permanent link">&para;</a></h1> <ul> <li>Sử dụng TLS cho toàn bộ trang web. Đừng chỉ sử dụng TLS cho một vài trang như login hoặc thanh toán.</li> <li>Cookie nên được đặt <code>httpOnly</code> và phân biệt theo path và domain.</li> <li>Sử dụng CSP mà không cho phép các backdoors <code>unsafe-*</code>. Cấu hình điều này có thể là một cực hình nhưng cần thiết.</li> <li>Sử dụng <code>X-Frame-Option</code>, <code>X-XSS-Protection</code> header khi phản hồi.</li> <li>Sử dụng HSTS để bắt buộc sử dụng TLS. Redirect toàn bộ HTTP về HTTPS.</li> <li>Sử dụng CSRF token cho tất cả các form và <a href=https://scotthelme.co.uk/csrf-is-dead/ >SameSite Cookie</a> để fix lỗi CSRF.</li> </ul> <h1 id=api>API<a class=headerlink href=#api title="Permanent link">&para;</a></h1> <ul> <li>Đảm bảo rằng không API nào cho phép người dùng có thể duyệt nhiều dữ liệu.</li> <li>Đảm bảo người dùng được xác thực và phân quyền cẩn thận khi sử dụng API.</li> </ul> <h1 id=validation>Validation<a class=headerlink href=#validation title="Permanent link">&para;</a></h1> <ul> <li>Validate bên client (thường bằng JS) là cần thiết để cho trải nghiệm tốt hơn. Nhưng không bao giờ được tin tưởng vào chúng.</li> <li>Validate tất cả những gì người dùng nhập vào. Nên sử dụng whitelist trên server. Không bao giờ được tin tưởng vào những gì người dùng nhập vào, không đưa nó vào câu truy vấn SQL, không hiển thị nó trên trang web mà không có các biện pháp thanh lọc.</li> </ul> <h1 id=cau-hinh-cloud>Cấu hình cloud<a class=headerlink href=#cau-hinh-cloud title="Permanent link">&para;</a></h1> <ul> <li>Đảm bảo tất cả dịch vụ chỉ mở port cần thiết. Mặc dù mở cổng nhiều khi cũng không hại gì, nhưng đề phòng vẫn là tốt nhất.</li> <li>Dùng DB server và các dịch vụ khác tương tự trên VPC private (không cho phép truy cập từ bên ngoài). Hãy cẩm thận với Security group nếu bạn sử dụng AWS (peering VPC có thể bị public ngoài ý muốn).</li> <li>Các server độc lập về logic cần được phân tách về các server độc lập về vật lý. Cung cấp phương tiện kết nối trong mạng nội bộ giữa chúng.</li> <li>Đảm bảo các dịch vụ chỉ chấp nhận truy cập từ một hoặc một số địa chỉ IP nhất định.</li> <li>Giới hạn IP và port ra ngoài với những API tối thiểu "botification".</li> <li>Luôn sử dụng AWS IAM roles thay cho root</li> <li>Chỉ cung cấp quyền truy cập tối thiểu cho mọi thành viên.</li> <li>Thường xuyên thay đổi password và access key</li> </ul> <h1 id=kien-truc-ha-tang>Kiến trúc hạ tầng<a class=headerlink href=#kien-truc-ha-tang title="Permanent link">&para;</a></h1> <ul> <li>Đảm bảo rằng bạn có thể nâng cấp hệ thống mà không làm gián đoạn nó. Hãy tự động hóa việc này để nâng cấp trở nên dễ dàng hơn.</li> <li>Sử dụng các công cụ như Terraform cho công việc Infra, thay vì ssh và gõ lệnh. Infra nên được định nghĩa bằng "code", và có thể dễ dàng thay đổi chỉ bằng vài click. Không làm bằng tay bất cứ thao tác nào, Terraform có thể giúp bạn mọi việc.</li> <li>Sử dụng các dịch vụ log và theo dõi log. Không bao giờ bạn cần để ssh để xem log.</li> <li>Không bao giờ ssh vào các dịch vụ. Thường xuyên sử dụng ssh đồng nghĩa với việc bạn chưa tự động hóa một trong số những thao tác quan trọng nhất.</li> <li>Không mở cổng 22 thường xuyên cho bất cứ dịch vụ nào. Thay vào đó, hãy giới hạn việc truy cập bằng ssh với một vài IP mà thôi.</li> <li>[ ] Tạo <a href=http://chadfowler.com/2013/06/23/immutable-deployments.html>immutable hosts</a> thay thế cho các máy chủ. Bằng cách này bạn sẽ dễ dàng nâng cấp hơn. Tham khảo thêm <a href=https://simplesecurity.sensedeep.com/immutable-infrastructure-can-be-dramatically-more-secure-238f297eca49>bài viết này</a>.</li> <li>Sử dụng <a href=https://en.wikipedia.org/wiki/Intrusion_detection_system>Intrusion Detection System</a>, ví dụ <a href=https://www.sensedeep.com/ >SenseDeep</a> để giảm thiểu <a href=https://en.wikipedia.org/wiki/Advanced_persistent_threat>APTs</a>.</li> </ul> <h1 id=van-hanh>Vận hành<a class=headerlink href=#van-hanh title="Permanent link">&para;</a></h1> <ul> <li>Tắt các dịch vụ không cần thiết. Một máy chủ được bảo mật khi và chỉ khi nó đã bị tắt.</li> </ul> <h1 id=test>Test<a class=headerlink href=#test title="Permanent link">&para;</a></h1> <ul> <li>Kiểm tra thiết kế hệ thống và việc triển khai nó.</li> <li>Kiểm tra xâm nhập bằng cách tự hack mình, nhưng bạn nên nhờ người khác nữa. Thuê một chuyên gia bảo mật là tốt nhất.</li> </ul> <h1 id=lap-ke-hoach-cho-moi-viec>Lập kế hoạch cho mọi việc<a class=headerlink href=#lap-ke-hoach-cho-moi-viec title="Permanent link">&para;</a></h1> <ul> <li>Bạn cần biết rõ về những thứ mà mình cần đối phó. Tốt nhất là hãy lên danh sách và sắp xếp chúng theo thứ tự ưu tiên.</li> <li>Xây dựng kế hoạch đối phó với khủng hoảng. Không có gì đảm bảo hệ thống của bạn an toàn, có thể một ngày nào đó, bạn sẽ cần đến những phương án này.</li> </ul> </div> <div class=post-footer> <div class=tags> <i class="fa fa-tags"></i> <span>#Web</span> <span>#Security</span> <span>#Vulnerabilities</span> </div> </div> </div><div class=blog-pager> <span class=newer-link> <a href=/2017/Jul/24/python-tricks-you-have-to-know-when-you-go-pro.html> Newer Post </a> </span> <span class=older-link> <a href=/2017/May/12/python-context-managers.html> Older Post </a> </span> </div><div class=comments> <div class=finally> <p><em>I apologise for any typos. If you notice a problem, please let me know.</em> <p>Thank you all for your attention. </div> <div id=disqus_thread></div> <script src=/theme/js/disqus.min.js?81e8a5f5></script> <noscript> Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript> comments powered by Disqus. </a> </noscript> </div></div> </div> </div> <div class=sidebar-wrapper> <div class=widget> <h2>Welcome</h2> <div> <img src=/theme/images/banner.gif alt=Welcome> </div> </div><div class="widget recent-posts"> <h2>Recent Posts</h2> <ul> <li> <a href=/2019/May/20/elasticsearch-data-organization.html> <img alt="Elasticsearch: Data organization" src=https://i.imgur.com/JT4y7Qf.jpg> </a> <a href=/2019/May/20/elasticsearch-data-organization.html>Elasticsearch: Data organization</a> <li> <a href=/2019/May/20/elasticsearch-intro.html> <img alt="Elasticsearch: Intro" src=https://i.imgur.com/JT4y7Qf.jpg> </a> <a href=/2019/May/20/elasticsearch-intro.html>Elasticsearch: Intro</a> <li> <a href=/2019/Apr/20/javascript-popups.html> <img alt="JavaScript: Popups" src=https://i.imgur.com/FxmcwPy.png> </a> <a href=/2019/Apr/20/javascript-popups.html>JavaScript: Popups</a> <li> <a href=/2019/Mar/20/javascript-iterator-and-generator.html> <img alt="JavaScript: Iterator and generator" src=https://i.imgur.com/lev8iT9.jpg> </a> <a href=/2019/Mar/20/javascript-iterator-and-generator.html>JavaScript: Iterator and generator</a> <li> <a href=/2019/Feb/20/javascript-decorator.html> <img alt="JavaScript decorator" src=https://i.imgur.com/Sh3yLI0.png> </a> <a href=/2019/Feb/20/javascript-decorator.html>JavaScript decorator</a> </ul> </div><div class="widget labels"> <h2>Blog Archive</h2> <ul> <li> <a href=/2019/ > 2019 </a> <li> <a href=/2018/ > 2018 </a> <li> <a href=/2017/ > 2017 </a> <li> <a href=/2016/ > 2016 </a> <li> <a href=/2015/ > 2015 </a> <li> <a href=/2014/ > 2014 </a> <li> <a href=/2013/ > 2013 </a> <li> <a href=/2012/ > 2012 </a> <li> <a href=/2011/ > 2011 </a> <li> <a href=/2010/ > 2010 </a> </ul> </div><div class=widget> <h2>Twitter timeline</h2> <a class=twitter-timeline data-height=500 data-dnt=true data-theme=light href=https://twitter.com/_naa_4f data-chrome="noheader nofooter transparent noborders"> Tweets by manhhomienbienthuy </a> </div> </div> </div> <a href=# class="smooth-scroll back-to-top"> <i class="fa fa-arrow-circle-up fa-3x"></i> </a> </main> <footer> <div class=infos> <div class=wrapper> <div class=widget> <a href=/ title="manhhomienbienthuy's space" class=logo> <img alt="manhhomienbienthuy's space" src=/theme/images/logo_white.png> </a> <span class=right>I'm a hacker, enter my world...</span> </div><div class=widget> <p> Created with all my ♥ and soul, dedicated to my love, yunachan <p> Powered by <a href=http://blog.getpelican.com/ target=_blank>Pelican</a>, which takes great advantage of <a href=https://www.python.org/ target=_blank>Python</a> <p> This site content is licensed under a <a href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank> CC BY-NC-ND 4.0 </a> License. <p> Updated at <a target=_blank href="http://www.timeanddate.com/worldclock/fixedtime.html?iso=2019-06-20T02:42:55"> 2019-06-20 02:42:55 </a> </div><div class=widget> <p> Hosting by <a href=https://manhhomienbienthuy.bitbucket.io/ >Bitbucket</a> and <a href=https://manhhomienbienthuy.github.io/ >Github</a>, image hosting by <a href=https://manhhomienbienthuy.imgur.com/ target=_blank>imgur</a>, <a href=https://instagram.com/manhhomienbienthuy/ target=_blank>Instagram</a> and <a href=https://photos.google.com/ target=_blank>Google Photo</a> <p> Theme based on <a href=https://vanice-veethemes.blogspot.com/ target=_blank>Vanice theme</a>, icons from <a href=https://fontawesome.com/ target=_blank>Font Awesome</a>, comments powered by <a href=https://disqus.com/home/forums/manhhomienbienthuy/ target=_blank>Disqus</a> </div> </div> </div> <div class=credits> <div class=wrapper> <div class=left> <!--
          Regarding copyright, in general, standalone pages (as
          opposed to files generated as part of manuals) on the GNU
          web server should be under CC BY-ND 4.0.  Please do NOT
          change or remove this without talking with the webmasters or
          licensing team first.  Please make sure the copyright date
          is consistent with the document.  For web pages, it is ok to
          list just the latest year the document was modified, or
          published.

          If you wish to list earlier years, that is ok too.  Either
          "2001, 2002, 2003" or "2001-2003" are ok for specifying
          years, as long as each year in the range is in fact a
          copyrightable year, i.e., a year in which the document was
          published (including being publicly visible on the web or in
          a revision control system).
        --> Copyright © 2010-2019 <a href=/pages/about-me.html><strong>manhhomienbienthuy</strong></a>. All rights reserved. </div> <div class=right> <ul> <li><a href=/ >Home</a> <li><a href=/pages/about-me.html>About</a> <li><a href=# class=smooth-scroll>Top ↑</a> </ul> </div> </div> </div></footer> <script src=https://code.jquery.com/jquery-3.2.1.js></script> <script src=//cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js></script> <script src=//cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.2/imagesloaded.pkgd.min.js></script> <script src=/theme/js/vpyeu.min.js?d72c87bd></script> <script id=dsq-count-scr src=https://manhhomienbienthuy.disqus.com/count.js async></script>